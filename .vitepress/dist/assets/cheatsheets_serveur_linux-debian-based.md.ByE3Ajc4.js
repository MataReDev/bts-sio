import{_ as e,c as a,o as s,U as i}from"./chunks/framework.aGaNZw_P.js";const k=JSON.parse('{"title":"Machine à base de Debian","description":"Aide mémoire pour configurer un Linux à base Debian.","frontmatter":{"description":"Aide mémoire pour configurer un Linux à base Debian."},"headers":[],"relativePath":"cheatsheets/serveur/linux-debian-based.md","filePath":"cheatsheets/serveur/linux-debian-based.md","lastUpdated":1677840804000}'),l={name:"cheatsheets/serveur/linux-debian-based.md"},t=i('<h1 id="machine-a-base-de-debian" tabindex="-1">Machine à base de Debian <a class="header-anchor" href="#machine-a-base-de-debian" aria-label="Permalink to &quot;Machine à base de Debian&quot;">​</a></h1><p>Dans cette aide-mémoire vous trouverez l&#39;ensemble des éléments de base pour configurer un serveur Debian.</p><details class="details custom-block"><summary>Table des matières</summary><nav class="table-of-contents"><ul><li><a href="#acceder-a-la-machine">Accéder à la machine</a></li><li><a href="#emplacement-important">Emplacement important</a><ul><li><a href="#emplacement-des-fichiers-de-configuration">Emplacement des fichiers de configuration</a></li><li><a href="#emplacement-des-fichiers-de-configuration-apache">Emplacement des fichiers de configuration Apache</a></li><li><a href="#emplacement-des-fichiers-de-configuration-php">Emplacement des fichiers de configuration PHP</a></li></ul></li><li><a href="#les-logs">Les logs</a><ul><li><a href="#verifier-les-logs">Vérifier les logs</a></li></ul></li><li><a href="#les-commandes-de-base">Les commandes de base</a><ul><li><a href="#quelques-astuces">Quelques astuces</a></li></ul></li><li><a href="#les-utilisateurs">Les utilisateurs</a><ul><li><a href="#creer-un-utilisateur">Créer un utilisateur</a></li><li><a href="#ajouter-l-utilisateur-dans-un-groupe">Ajouter l&#39;utilisateur dans un groupe</a></li></ul></li><li><a href="#le-reseau">Le réseau</a><ul><li><a href="#verifier-l-adresse-ip">Vérifier l&#39;adresse IP</a></li><li><a href="#verifier-la-connexion">Vérifier la connexion</a></li><li><a href="#obtenir-le-nom-de-l-interface-reseau">Obtenir le nom de l&#39;interface réseau</a></li><li><a href="#configurer-le-reseau">Configurer le réseau</a></li></ul></li><li><a href="#gerer-les-paquets">Gérer les paquets</a><ul><li><a href="#mettre-a-jour-les-paquets">Mettre à jour les paquets</a></li><li><a href="#installer-un-paquet">Installer un paquet</a></li><li><a href="#supprimer-un-paquet">Supprimer un paquet</a></li><li><a href="#mettre-a-jour-les-paquets-1">Mettre à jour les paquets</a></li></ul></li></ul></nav></details><div class="tip custom-block"><p class="custom-block-title">Documents connexes :</p><ul><li><a href="./debian-web.html">Serveur Web avec Debian</a></li><li><a href="./debian-reseau.html">Configurer le réseau</a></li></ul></div><h2 id="acceder-a-la-machine" tabindex="-1">Accéder à la machine <a class="header-anchor" href="#acceder-a-la-machine" aria-label="Permalink to &quot;Accéder à la machine&quot;">​</a></h2><p>Pour accéder à la machine, il faut utiliser la commande <code>ssh</code> :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">utilisateu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">Échanger les clés SSH</p><p>Je vous conseille vivement d&#39;échanger votre clé SSH avec la machine. Pour cela, il faut que vous ayez une clé SSH sur votre machine. Si ce n&#39;est pas le cas, vous pouvez en générer une avec la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-keygen</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Ensuite, il faut copier votre clé SSH sur la machine avec la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-copy-id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">utilisateu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Par la suite vous pourrez vous connecter à la machine sans avoir à rentrer votre mot de passe.</p></div><h2 id="emplacement-important" tabindex="-1">Emplacement important <a class="header-anchor" href="#emplacement-important" aria-label="Permalink to &quot;Emplacement important&quot;">​</a></h2><h3 id="emplacement-des-fichiers-de-configuration" tabindex="-1">Emplacement des fichiers de configuration <a class="header-anchor" href="#emplacement-des-fichiers-de-configuration" aria-label="Permalink to &quot;Emplacement des fichiers de configuration&quot;">​</a></h3><ul><li><code>/etc/</code> : Fichiers de configuration</li><li><code>/var/www/</code> : Fichiers du site web</li><li><code>/var/log/</code> : Fichiers de logs</li></ul><h3 id="emplacement-des-fichiers-de-configuration-apache" tabindex="-1">Emplacement des fichiers de configuration Apache <a class="header-anchor" href="#emplacement-des-fichiers-de-configuration-apache" aria-label="Permalink to &quot;Emplacement des fichiers de configuration Apache&quot;">​</a></h3><ul><li><code>/etc/apache2/</code> : Fichiers de configuration Apache</li><li><code>/etc/apache2/sites-available/</code> : Fichiers de configuration des sites</li><li><code>/etc/apache2/sites-enabled/</code> : Fichiers de configuration des sites activés</li></ul><h3 id="emplacement-des-fichiers-de-configuration-php" tabindex="-1">Emplacement des fichiers de configuration PHP <a class="header-anchor" href="#emplacement-des-fichiers-de-configuration-php" aria-label="Permalink to &quot;Emplacement des fichiers de configuration PHP&quot;">​</a></h3><ul><li><code>/etc/php/</code> : Fichiers de configuration PHP</li></ul><h2 id="les-logs" tabindex="-1">Les logs <a class="header-anchor" href="#les-logs" aria-label="Permalink to &quot;Les logs&quot;">​</a></h2><h3 id="verifier-les-logs" tabindex="-1">Vérifier les logs <a class="header-anchor" href="#verifier-les-logs" aria-label="Permalink to &quot;Vérifier les logs&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tail</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/log/apache2/error.log</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Cette commande permet de suivre en temps réel les logs d&#39;erreur d&#39;Apache. <code>tail</code> permet de lire les dernières lignes d&#39;un fichier. L&#39;option <code>-f</code> permet de suivre en temps réel le fichier.</p><h2 id="les-commandes-de-base" tabindex="-1">Les commandes de base <a class="header-anchor" href="#les-commandes-de-base" aria-label="Permalink to &quot;Les commandes de base&quot;">​</a></h2><ul><li><code>ls</code> : Liste les fichiers et dossiers</li><li><code>cd</code> : Change de dossier</li><li><code>mkdir</code> : Crée un dossier</li><li><code>touch</code> : Crée un fichier</li><li><code>rm</code> : Supprime un fichier</li><li><code>rm -r</code> : Supprime un dossier</li><li><code>mv</code> : Déplace un fichier</li><li><code>cp</code> : Copie un fichier</li><li><code>cat</code> : Affiche le contenu d&#39;un fichier</li><li><code>nano</code> : Éditeur de texte (personnellement je préfère <code>vim</code>).</li></ul><p>Il existe de nombreuses autres commandes, mais celles-ci sont les plus utilisées. <strong>Il est important de savoir les utiliser.</strong></p><div class="tip custom-block"><p class="custom-block-title">Un doute sur une commande ?</p><p>Si vous avez un doute sur une commande, vous pouvez taper <code>man &lt;nom-de-la-commande&gt;</code> pour afficher le manuel de la commande.</p><p>Exemple : <code>man ls</code>.</p></div><h3 id="quelques-astuces" tabindex="-1">Quelques astuces <a class="header-anchor" href="#quelques-astuces" aria-label="Permalink to &quot;Quelques astuces&quot;">​</a></h3><p>La ligne de commande est très puissante. Voici quelques astuces pour vous faciliter la vie :</p><ul><li>La touche <code>tab</code> : permet de compléter une commande ou un chemin de fichier.</li><li><code>!!</code> : permet de répéter la dernière commande.</li><li><code>ctlr + r</code> : permet de rechercher une commande dans l&#39;historique.</li><li><code>échap puis :wq</code> : permet de sauvegarder et quitter un fichier ouvert avec <code>vim</code>.</li><li><code>échap puis :q!</code> : permet de quitter un fichier ouvert avec <code>vim</code> sans sauvegarder.</li></ul><div class="tip custom-block"><p class="custom-block-title">Vous en connaissez d&#39;autres ?</p><p>N&#39;hésitez pas à partager vos astuces entre vous. 😉</p></div><h2 id="les-utilisateurs" tabindex="-1">Les utilisateurs <a class="header-anchor" href="#les-utilisateurs" aria-label="Permalink to &quot;Les utilisateurs&quot;">​</a></h2><h3 id="creer-un-utilisateur" tabindex="-1">Créer un utilisateur <a class="header-anchor" href="#creer-un-utilisateur" aria-label="Permalink to &quot;Créer un utilisateur&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">adduser</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nom-de-l&#39;utilisateur&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="ajouter-l-utilisateur-dans-un-groupe" tabindex="-1">Ajouter l&#39;utilisateur dans un groupe <a class="header-anchor" href="#ajouter-l-utilisateur-dans-un-groupe" aria-label="Permalink to &quot;Ajouter l&#39;utilisateur dans un groupe&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">usermod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -G</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nom-du-group</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nom-de-l&#39;utilisateur&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="le-reseau" tabindex="-1">Le réseau <a class="header-anchor" href="#le-reseau" aria-label="Permalink to &quot;Le réseau&quot;">​</a></h2><h3 id="verifier-l-adresse-ip" tabindex="-1">Vérifier l&#39;adresse IP <a class="header-anchor" href="#verifier-l-adresse-ip" aria-label="Permalink to &quot;Vérifier l&#39;adresse IP&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="verifier-la-connexion" tabindex="-1">Vérifier la connexion <a class="header-anchor" href="#verifier-la-connexion" aria-label="Permalink to &quot;Vérifier la connexion&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ping</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> www.google.com</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">Avec le ping</p><p>Avec un simple ping vous allez vérifier :</p><ul><li>La connexion réseau.</li><li>La résolution DNS.</li><li>L&#39;accès à Internet.</li></ul></div><h3 id="obtenir-le-nom-de-l-interface-reseau" tabindex="-1">Obtenir le nom de l&#39;interface réseau <a class="header-anchor" href="#obtenir-le-nom-de-l-interface-reseau" aria-label="Permalink to &quot;Obtenir le nom de l&#39;interface réseau&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /sys/class/net</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> l</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -execdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> basename</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{}&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;;&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;^lo$&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="configurer-le-reseau" tabindex="-1">Configurer le réseau <a class="header-anchor" href="#configurer-le-reseau" aria-label="Permalink to &quot;Configurer le réseau&quot;">​</a></h3><p><a href="/cheatsheets/serveur/debian-reseau.html">Consulter Configuration réseau</a></p><h2 id="gerer-les-paquets" tabindex="-1">Gérer les paquets <a class="header-anchor" href="#gerer-les-paquets" aria-label="Permalink to &quot;Gérer les paquets&quot;">​</a></h2><p>Seul l&#39;utilisateur <code>root</code> peut gérer les paquets. Pour passer en <code>root</code> il faut utiliser la commande <code>su</code> :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">su</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="danger custom-block"><p class="custom-block-title"><code>su -</code> ?</p><p>L&#39;option <code>-</code> permet de passer en <code>root</code> et de conserver les variables d&#39;environnement.</p></div><h3 id="mettre-a-jour-les-paquets" tabindex="-1">Mettre à jour les paquets <a class="header-anchor" href="#mettre-a-jour-les-paquets" aria-label="Permalink to &quot;Mettre à jour les paquets&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="installer-un-paquet" tabindex="-1">Installer un paquet <a class="header-anchor" href="#installer-un-paquet" aria-label="Permalink to &quot;Installer un paquet&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nom-du-paque</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="supprimer-un-paquet" tabindex="-1">Supprimer un paquet <a class="header-anchor" href="#supprimer-un-paquet" aria-label="Permalink to &quot;Supprimer un paquet&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nom-du-paque</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="mettre-a-jour-les-paquets-1" tabindex="-1">Mettre à jour les paquets <a class="header-anchor" href="#mettre-a-jour-les-paquets-1" aria-label="Permalink to &quot;Mettre à jour les paquets&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>',54),n=[t];function r(d,h,o,p,c,u){return s(),a("div",null,n)}const b=e(l,[["render",r]]);export{k as __pageData,b as default};
