import{_ as e,c as a,o as i,U as s}from"./chunks/framework.aGaNZw_P.js";const n="/assets/run.2b79kyRF.png",l="/assets/remote_debug.BH2LWBR6.png",r="/assets/remote_debug_show.DuU5spf4.png",t="/assets/inspect.CwMV2lD9.png",F=JSON.parse('{"title":"Découverte de Cordova","description":"Dans ce TP vous allez découvrir la ligne de commande Cordova et créer votre premier TP. Comme les autres TP, utiliser l’aide mémoire Cordova pour trouver les bonnes commandes à chaque étape.","frontmatter":{"description":"Dans ce TP vous allez découvrir la ligne de commande Cordova et créer votre premier TP. Comme les autres TP, utiliser l’aide mémoire Cordova pour trouver les bonnes commandes à chaque étape."},"headers":[],"relativePath":"tp/cordova/decouverte.md","filePath":"tp/cordova/decouverte.md","lastUpdated":1640899309000}'),o={name:"tp/cordova/decouverte.md"},p=s(`<h1 id="decouverte-de-cordova" tabindex="-1">Découverte de Cordova <a class="header-anchor" href="#decouverte-de-cordova" aria-label="Permalink to &quot;Découverte de Cordova&quot;">​</a></h1><p>Dans ce TP vous allez découvrir la ligne de commande Cordova et créer votre premier TP. Comme les autres TP, utiliser l’aide mémoire Cordova pour trouver les bonnes commandes à chaque étape.</p><h2 id="ressources" tabindex="-1">Ressources <a class="header-anchor" href="#ressources" aria-label="Permalink to &quot;Ressources&quot;">​</a></h2><ul><li><a href="https://cordova.apache.org" target="_blank" rel="noreferrer">Le site Cordova</a></li><li><a href="https://cordova.apache.org/plugins/" target="_blank" rel="noreferrer">Les plug-ins Cordova</a></li><li><a href="https://github.com/c4software/cheatsheet/tree/master/cordova" target="_blank" rel="noreferrer">Aide mémoire Cordova</a></li></ul><h2 id="installation-de-cordova" tabindex="-1">Installation de Cordova <a class="header-anchor" href="#installation-de-cordova" aria-label="Permalink to &quot;Installation de Cordova&quot;">​</a></h2><p>Pour pouvoir utiliser Cordova, vous allez devoir installer le <code>cordova-cli</code>. La ligne de commande Cordova utilise NodeJS pour fonctionner.</p><p>(Normalement NodeJS est déjà installé sur votre poste).</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cordova</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>L’installation prend quelques minutes, un certain nombre de dépendances NodeJS sont nécessaires au bon fonctionnement.</p><p>⚠️ L’installation de Cordova est à effectuer qu’une seule fois sur l’ordinateur.</p><h2 id="android" tabindex="-1">Android <a class="header-anchor" href="#android" aria-label="Permalink to &quot;Android&quot;">​</a></h2><p>Dans le TP, vous allez devoir compiler pour la plateforme Android. Vérifier que celle-ci est bien installée en le lançant une première fois.</p><ul><li>Installer la dernière version du SDK &amp; la version 28.</li></ul><h2 id="creation-du-projet-«-demo-»" tabindex="-1">Création du projet « démo » <a class="header-anchor" href="#creation-du-projet-«-demo-»" aria-label="Permalink to &quot;Création du projet « démo »&quot;">​</a></h2><p>La ligne de commande cordova fournit l’ensemble des éléments pour créer un nouveau projet. Le projet que vous allez créer contient une première « page Web » permettant d’avoir un projet Cordova directement fonctionnel.</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cordova</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> demo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> com.chevrollier.demo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Demo</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>⚠️ Plusieurs paramètres sont nécessaires à la commande, attention à bien les choisir du maintenant.</p><h2 id="ajout-d-une-plateforme" tabindex="-1">Ajout d’une plateforme <a class="header-anchor" href="#ajout-d-une-plateforme" aria-label="Permalink to &quot;Ajout d’une plateforme&quot;">​</a></h2><p>Votre projet est maintenant prêt vous allez pouvoir ajout une plateforme. Pour rappel Cordova est un framework de développement capable de gérer plusieurs plateformes :</p><ul><li>android</li><li>ios</li><li>browser</li><li>…</li></ul><p>Pour commencer nous allons ajouter la plateforme « générique » à savoir browser, celle-ci nous permettra de tester simplement notre configuration.</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cordova</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> platform</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> browser</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Using</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cordova-fetch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cordova-browser@~4.1.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Adding</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> browser</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> project...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Creating</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Browser</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> project.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Path:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> platforms/browser</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Discovered</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plugin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;cordova-plugin-whitelist&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config.xml.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Adding</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> it</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> project</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Installing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;cordova-plugin-whitelist&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> browser</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Adding</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cordova-plugin-whitelist</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> package.json</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Saved</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plugin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> info</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;cordova-plugin-whitelist&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config.xml</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">--save</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flag</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> or</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> autosave</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> detected</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Saving</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> browser@~4.1.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> into</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config.xml</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>La plateforme étant maintenant ajouté nous pouvons « démarrer » Cordova en utilisant la commande :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cordova</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> browser</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="`+n+'" alt="Premier lancement" loading="lazy"></p><p>Et voilà, le code de démo tourne dans votre navigateur, génial non ? Bon je vois bien que vous êtes déçu…</p><h2 id="ajouter-une-seconde-plateforme" tabindex="-1">Ajouter une seconde plateforme <a class="header-anchor" href="#ajouter-une-seconde-plateforme" aria-label="Permalink to &quot;Ajouter une seconde plateforme&quot;">​</a></h2><p>Bon l’intérêt de Cordova c’est vraiment le mobile, l’utilisation de la plateforme « browser » va nous permettre de valider notre développement sans avoir à brancher son mobile pour valider le fonctionnement.</p><p>Pour ajouter la plateforme Android la commande est la suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cordova</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> platform</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> android</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Une fois ajouter nous allons pouvoir « lancer » / « compiler » des applications pour Android.</p><p>⚠️ Attention, à cette étape nous avons besoin d’un poste correctement équipé pour compiler de l’Android</p><h2 id="lancer-l-application" tabindex="-1">Lancer l’application <a class="header-anchor" href="#lancer-l-application" aria-label="Permalink to &quot;Lancer l’application&quot;">​</a></h2><p>Pour lancer l’application, vous avez deux solutions :</p><ul><li>Votre téléphone.</li><li>Un émulateur (celui du SDK, Bluestack, Genymotion).</li></ul><h2 id="installation-de-genymotion" tabindex="-1">Installation de Genymotion <a class="header-anchor" href="#installation-de-genymotion" aria-label="Permalink to &quot;Installation de Genymotion&quot;">​</a></h2><p>Sous Windows vous avez la possibilité d’installer l’émulateur Genymotion, pour installer celui-ci rendez-vous sur <a href="https://www.genymotion.com/#!/" target="_blank" rel="noreferrer">le site officiel</a>.</p><p>Sur l’émulateur le débogage est déjà activé.</p><h2 id="lancer-l-application-sur-votre-telephone" tabindex="-1">Lancer l’application sur votre téléphone <a class="header-anchor" href="#lancer-l-application-sur-votre-telephone" aria-label="Permalink to &quot;Lancer l’application sur votre téléphone&quot;">​</a></h2><p>Maintenant que nous avons notre plateforme de prête, lançons l’application sur un téléphone Android (oui, pour iOs il faut un Mac).</p><h3 id="_1-activer-le-mode-developpeur" tabindex="-1">1. Activer le mode développeur <a class="header-anchor" href="#_1-activer-le-mode-developpeur" aria-label="Permalink to &quot;1. Activer le mode développeur&quot;">​</a></h3><p>Sur votre téléphone, vous devez activer le mode développeur pour lancer une application depuis un ordinateur. Pour l’activer, rendez-vous dans les Paramètres généraux de l’onglet Système, pour ensuite ouvrir le volet À propos de l’appareil. Une fois que cela est fait, il vous suffit de tapoter par quatre fois le Numéro de Build pour débloquer les Options pour les développeurs.</p><p>Le mode développeur débloque les options « avancé » de votre téléphone Android. Vous allez pouvoir activer le lancement à distance d’application (avec adb).</p><p>Dans le nouveau Menu activer :</p><ul><li>Le mode débogage USB pour copier des données entre le terminal et l’ordinateur, installer des applications sur votre appareil.</li></ul><h3 id="_2-installer-le-driver-adb-pour-l-ordinateur" tabindex="-1">2. Installer le driver adb pour l’ordinateur <a class="header-anchor" href="#_2-installer-le-driver-adb-pour-l-ordinateur" aria-label="Permalink to &quot;2. Installer le driver adb pour l’ordinateur&quot;">​</a></h3><p>Votre téléphone est un périphérique usb comment un autre, pour dialoguer avec votre ordinateur a besoin d’un driver. De base votre téléphone est une sorte de « clef usb ». Une fois le debug actif il va devenir un « Android Debug Bridge Device ». Ce mode-là n’est par défaut pas connu par Windows (quelques soit la version), vous devez donc installer un driver. Nous allons utiliser « Universal Adb Drivers » fourni par Clockworkmod :</p><ul><li>Brancher votre téléphone au PC.</li><li><a href="https://adb.clockworkmod.com/" target="_blank" rel="noreferrer">Télécharger</a></li></ul><h3 id="_3-lancer-l-application-sur-votre-mobile" tabindex="-1">3. Lancer l’application sur votre mobile <a class="header-anchor" href="#_3-lancer-l-application-sur-votre-mobile" aria-label="Permalink to &quot;3. Lancer l’application sur votre mobile&quot;">​</a></h3><p>Maintenant que votre mobile est reconnu (il faut peut-être débrancher et rebrancher votre mobile pour que ça fonctionne à 100%), nous allons lancer l’application sur votre mobile, pour ça c’est très simple il suffit de faire sur votre ordinateur :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cordova</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> android</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_4-voir-debugger-le-code-de-l-application-sur-votre-mobile" tabindex="-1">4. Voir / Débugger le code de l’application sur votre mobile <a class="header-anchor" href="#_4-voir-debugger-le-code-de-l-application-sur-votre-mobile" aria-label="Permalink to &quot;4. Voir / Débugger le code de l’application sur votre mobile&quot;">​</a></h3><p>Maintenant que l’application fonctionne sur votre mobile, vous pouvez le débugger en temps réel. Les modifications ne sont bien sûr par permanente par contre elle vous permette de tester des modifications sans pour autant avoir a recompiler votre application. Pour ça rien de plus simple il suffit d’utiliser Google Chrome, dans les options « avancés » de Chrome nous avons le remote debbugging et c’est cette option qui nous intéresse :</p><ul><li>Ouvrez un nouvel onglet Chrome <a href="chrome://inspect/#devices" target="_blank" rel="noreferrer">chrome://inspect/#devices</a></li></ul><p><img src="'+l+'" alt="Remote" loading="lazy"></p><ul><li>Patientez quelques secondes votre mobile doit apparaitre dans la liste.</li></ul><p><img src="'+r+'" alt="Remote" loading="lazy"> Votre application (ainsi que vos Tabs Chrome) doit apparaitre dans la liste</p><ul><li>Sélectionnez le « Inspect » qui correspond à votre application.</li></ul><p><img src="'+t+`" alt="inspect" loading="lazy"></p><p>Tenter des choses dans la « Console » qui vient de s’ouvrir.</p><h2 id="ajouter-un-premier-plug-in" tabindex="-1">Ajouter un premier plug-in <a class="header-anchor" href="#ajouter-un-premier-plug-in" aria-label="Permalink to &quot;Ajouter un premier plug-in&quot;">​</a></h2><p>Cordova fonctionne avec des plug-ins, à chaque fois que vous voulez utiliser une fonctionnalité « native » de votre mobile vous devez installer un plug-in. Les plug-ins sont une combinaison de :</p><ul><li>Le code natif (Android, iOs, …)</li><li>Un bridge (interface de communication) JavaScript.</li></ul><p>Les plug-ins sont disponibles en ligne sur le site :</p><ul><li><a href="https://cordova.apache.org/plugins/" target="_blank" rel="noreferrer">Plugin Cordova</a></li></ul><p>Comme toujours, il est possible de trouver des plug-ins (non officel) sur Gitub par exemple, cependant il faut faire attention à leur contenu (il vaux mieux être prudent…).</p><h3 id="_1-ajouter-un-plug-in" tabindex="-1">1. Ajouter un plug-in <a class="header-anchor" href="#_1-ajouter-un-plug-in" aria-label="Permalink to &quot;1. Ajouter un plug-in&quot;">​</a></h3><p>Pour ajouter un plugin il suffit de faire :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cordova</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plugin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">monPlugi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Pour l’exemple nous allons ajouter le plug-in <code>cordova-plugin-camera</code></p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cordova</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plugin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cordova-plugin-camera</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Quelques secondes plus tard, votre application est <code>capable</code> d’utiliser la Caméra de votre téléphone 🎉🎉</p><h3 id="_2-utiliser-le-plug-in" tabindex="-1">2. Utiliser le plug-in <a class="header-anchor" href="#_2-utiliser-le-plug-in" aria-label="Permalink to &quot;2. Utiliser le plug-in&quot;">​</a></h3><p>Pour le test nous allons utiliser la console pour tester le plug-in :</p><ul><li>Lancer/Compiler l’application à nouveau sur votre mobile :</li></ul><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cordova</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> android</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>Lancer le Remote Debug sur Chrome.</li><li>Dans la console qui vient de s’ouvrir, faites :</li></ul><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> cameraSuccess</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> cameraError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">navigator.camera.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getPicture</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cameraSuccess, cameraError, {});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Le <code>{}</code> est la liste des options, tester quelques options <a href="https://www.npmjs.com/package/cordova-plugin-camera#module_camera.CameraOptions" target="_blank" rel="noreferrer">disponible ici</a></p><h3 id="_3-modifier-le-code-de-demo" tabindex="-1">3. Modifier le code de démo <a class="header-anchor" href="#_3-modifier-le-code-de-demo" aria-label="Permalink to &quot;3. Modifier le code de démo&quot;">​</a></h3><p>Modifier le code de démonstration pour utiliser le plug-in de manière permanente.</p><ul><li>Ajouter un bouton.</li><li>Ajouter une fonction javascript pour déclencher la caméra</li><li>Ajouter un évènement <code>onClick</code> sur le bouton que vous avez créé</li></ul><h2 id="ajouter-un-second-plug-in" tabindex="-1">Ajouter un second plug-in <a class="header-anchor" href="#ajouter-un-second-plug-in" aria-label="Permalink to &quot;Ajouter un second plug-in&quot;">​</a></h2><p>Pour le second plug-in, nous allons ajouter un plug-in qui n’a pas comme vocation directe d’exposer un bridge en JavaScript. Nous allons ajouter un plug-in qui intègre encore un peu plus une application hybride dans le système Android <code>cordova-plugin-headercolor</code></p><p>Le plug-in permet de :</p><ul><li>HeaderColor is a cordova plugin to change color of header in multitask view. Android devices.</li></ul><p>Les sources du plug-in sont <a href="https://github.com/tomloprod/cordova-plugin-headercolor" target="_blank" rel="noreferrer">disponibles ici</a></p><h3 id="_1-ajouter-le-plug-in" tabindex="-1">1. Ajouter le plug-in <a class="header-anchor" href="#_1-ajouter-le-plug-in" aria-label="Permalink to &quot;1. Ajouter le plug-in&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cordova</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plugin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cordova-plugin-headercolor</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_2-ajouter-la-configuration-du-plug-in" tabindex="-1">2. Ajouter la configuration du plug-in <a class="header-anchor" href="#_2-ajouter-la-configuration-du-plug-in" aria-label="Permalink to &quot;2. Ajouter la configuration du plug-in&quot;">​</a></h3><p>Ajouter dans le fichier <code>config.xml</code> l’élément suivant :</p><div class="language-xml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">preference</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;HeaderColor&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#2959cb&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_3-lancer-l-application-pour-voir-le-changement" tabindex="-1">3. Lancer l’application pour voir le changement <a class="header-anchor" href="#_3-lancer-l-application-pour-voir-le-changement" aria-label="Permalink to &quot;3. Lancer l’application pour voir le changement&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cordova</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> android</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,94),d=[p];function u(h,c,k,g,m,v){return i(),a("div",null,d)}const C=e(o,[["render",u]]);export{F as __pageData,C as default};
