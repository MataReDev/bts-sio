import{_ as a}from"./chunks/version1.DSsN59F8.js";import{_ as i}from"./chunks/ssh-key.DAgerwsG.js";import{_ as n}from"./chunks/apache.x4CsR5gF.js";import{_ as r,c as l,o as t,U as e,k as s}from"./chunks/framework.aGaNZw_P.js";const o="/assets/phpmyadmin.BsGo5vRo.jpg",w=JSON.parse(`{"title":"Créer un serveur d'application avec Debian","description":"Serveur LAMP / WEB (Apache, MariaDB, PHP) avec Debian","frontmatter":{"description":"Serveur LAMP / WEB (Apache, MariaDB, PHP) avec Debian"},"headers":[],"relativePath":"tp/devops/serveur/debian.md","filePath":"tp/devops/serveur/debian.md","lastUpdated":1683313765000}`),p={name:"tp/devops/serveur/debian.md"},u=e('<h1 id="creer-un-serveur-d-application-avec-debian" tabindex="-1">Créer un serveur d&#39;application avec Debian <a class="header-anchor" href="#creer-un-serveur-d-application-avec-debian" aria-label="Permalink to &quot;Créer un serveur d&#39;application avec Debian&quot;">​</a></h1><p>Dans ce TP, nous allons créer un serveur avec Debian. Nous allons installer un serveur web / LAMP.</p><details class="details custom-block"><summary>Sommaire</summary><nav class="table-of-contents"><ul><li><a href="#introduction">Introduction</a></li><li><a href="#prerequis">Prérequis</a><ul><li><a href="#qu-est-ce-qu-un-serveur">Qu&#39;est-ce qu&#39;un serveur ?</a></li><li><a href="#qu-est-ce-qu-un-serveur-web">Qu&#39;est-ce qu&#39;un serveur web ?</a></li><li><a href="#qu-est-ce-qu-un-serveur-de-base-de-donnees">Qu&#39;est-ce qu&#39;un serveur de base de données ?</a></li></ul></li><li><a href="#physique-ou-virtuel">Physique ou virtuel ?</a></li><li><a href="#la-securite">La sécurité</a></li><li><a href="#un-serveur-ou-plusieurs-serveurs">Un serveur ou plusieurs serveurs ?</a><ul><li><a href="#pourquoi-avoir-plusieurs-serveurs">Pourquoi avoir plusieurs serveurs ?</a></li></ul></li><li><a href="#installation-dans-un-container-docker-ou-directement-sur-la-machine">Installation dans un container Docker ou directement sur la machine ?</a></li><li><a href="#la-procedure-en-video">La procédure en vidéo</a></li><li><a href="#installation-de-debian">Installation de Debian</a><ul><li><a href="#procedure-d-installation-de-l-os">Procédure d&#39;installation de l&#39;OS</a></li><li><a href="#acceder-a-votre-serveur">Accéder à votre serveur</a></li></ul></li><li><a href="#installation-de-apache">Installation de Apache</a><ul><li><a href="#presentation">Présentation</a></li><li><a href="#installation">Installation</a></li><li><a href="#demarrez-le-serveur">Démarrez le serveur</a></li><li><a href="#verifier-que-le-serveur-est-demarre">Vérifier que le serveur est démarré</a></li><li><a href="#verifier-que-le-serveur-est-accessible">Vérifier que le serveur est accessible</a></li><li><a href="#demarrer-le-serveur-au-demarrage-du-systeme">Démarrer le serveur au démarrage du système</a></li><li><a href="#ou-sont-les-fichiers-du-serveur">Où sont les fichiers du serveur</a></li><li><a href="#personnaliser-la-page-d-accueil">Personnaliser la page d&#39;accueil</a></li><li><a href="#deployer-votre-site-web">Déployer votre site web</a></li></ul></li><li><a href="#installation-de-php">Installation de PHP</a><ul><li><a href="#installation-1">Installation</a></li><li><a href="#verifier-que-php-est-installe">Vérifier que PHP est installé</a></li><li><a href="#verifier-que-apache-php-fonctionne">Vérifier que Apache + PHP fonctionne</a></li><li><a href="#ecrire-du-code-php-pour-tester">Écrire du code PHP pour tester</a></li></ul></li><li><a href="#installation-de-mariadb">Installation de MariaDB</a><ul><li><a href="#installation-2">Installation</a></li><li><a href="#configuration">Configuration</a></li><li><a href="#verifier-que-mariadb-est-installe">Vérifier que MariaDB est installé</a></li><li><a href="#php-et-mariadb">PHP et MariaDB</a></li></ul></li><li><a href="#les-virtualhost">Les virtualHost</a></li><li><a href="#installation-de-phpmyadmin">Installation de phpMyAdmin</a><ul><li><a href="#installation-3">Installation</a></li><li><a href="#creer-un-virtual-host-dedie-a-phpmyadmin">Créer un virtual host dédié à phpMyAdmin</a></li><li><a href="#acceder-a-phpmyadmin">Accéder à phpMyAdmin</a></li></ul></li><li><a href="#conclusion">Conclusion</a></li><li><a href="#synthese">Synthèse</a></li><li><a href="#liens">Liens</a></li></ul></nav></details><div class="danger custom-block"><p class="custom-block-title">Attention</p><p>Document de référence, il est découpé en plusieurs partie pour faciliter la lecture :</p><ul><li><a href="/pages/categories/les-serveurs.html">Voir page avec découpage</a></li></ul></div><h2 id="introduction" tabindex="-1">Introduction <a class="header-anchor" href="#introduction" aria-label="Permalink to &quot;Introduction&quot;">​</a></h2><p>Les serveurs web et les serveurs de base de données sont des serveurs qui sont souvent utilisés ensemble. En effet, un site web dynamique nécessite souvent une base de données pour stocker les données.</p><p>Nous allons voir dans ce TP comment installer un serveur web et un serveur de base de données, sans oublier de sécuriser le serveur. Nous utiliserons <strong>Apache</strong> pour le serveur web et <strong>MariaDB</strong> pour le serveur de base de données.</p><h2 id="prerequis" tabindex="-1">Prérequis <a class="header-anchor" href="#prerequis" aria-label="Permalink to &quot;Prérequis&quot;">​</a></h2><p>Avant de commencer ce TP, vous devez connaître :</p><ul><li>Les bases de Linux.</li><li>Les bases de la ligne de commande.</li><li>Les bases de la communication réseau (adresse IP, masque de sous-réseau, passerelle, etc.)</li></ul>',10),d=s("iframe",{src:"https://giphy.com/embed/3knKct3fGqxhK",width:"480",height:"281",frameBorder:"0",class:"giphy-embed",allowFullScreen:""},null,-1),c=e('<h3 id="qu-est-ce-qu-un-serveur" tabindex="-1">Qu&#39;est-ce qu&#39;un serveur ? <a class="header-anchor" href="#qu-est-ce-qu-un-serveur" aria-label="Permalink to &quot;Qu&#39;est-ce qu&#39;un serveur ?&quot;">​</a></h3><p>Un serveur est un ordinateur qui fournit des services à d&#39;autres ordinateurs. Il peut s&#39;agir d&#39;un serveur web, d&#39;un serveur de base de données, d&#39;un serveur de fichiers, etc.</p><p>Concrètement, un serveur est un ordinateur qui est connecté à un réseau et qui est accessible depuis un autre ordinateur. Il est souvent installé dans un datacenter, c&#39;est-à-dire dans un bâtiment spécialisé qui contient des serveurs. Les serveurs sont souvent installés dans des salles spéciales qui sont climatisées et qui sont surveillées 24h/24 et 7j/7.</p><p>Mais sans aller jusque-là, vous pouvez aussi installer un serveur chez vous. Vous pouvez installer un serveur chez vous pour faire des tests, pour héberger un site web, etc. Vous pouvez par exemple utiliser un Raspberry Pi comme serveur, et y installer les services que vous souhaitez (Web, Base de données, Domotique, Fichier).</p><div class="tip custom-block"><p class="custom-block-title">Pourquoi installer un serveur chez soi ?</p><p>Il est possible d&#39;installer un serveur chez soi pour faire des tests, pour héberger un site web, etc. C&#39;est une bonne idée de faire des tests sur un serveur chez soi avant de mettre en production sur un serveur distant.</p><p>Créer un serveur à domicile permet réellement de progresser, car vous devrez gérer l&#39;ensemble du serveur. Vous devrez gérer l&#39;installation, la configuration, la sécurité, etc. C&#39;est une bonne expérience pour apprendre à gérer un serveur.</p><p>Voilà à quoi peut ressembler un serveur à domicile (chez moi en l&#39;occurrence) :</p><p><img src="'+a+`" alt="Serveur à domicile" loading="lazy"></p></div><h3 id="qu-est-ce-qu-un-serveur-web" tabindex="-1">Qu&#39;est-ce qu&#39;un serveur web ? <a class="header-anchor" href="#qu-est-ce-qu-un-serveur-web" aria-label="Permalink to &quot;Qu&#39;est-ce qu&#39;un serveur web ?&quot;">​</a></h3><p>Un serveur web est un serveur qui permet de servir des pages web. Il permet de servir des pages web statiques (fichiers HTML, CSS, JavaScript, images, etc.) mais aussi des pages web dynamiques (fichiers PHP, Python, Ruby, etc.).</p><p>Dans notre cas nous utiliserons Apache pour le serveur web. Apache est un serveur web open-source qui est très utilisé. Il est très puissant et il est très facile à configurer. Il est possible de configurer Apache pour servir des pages web statiques, mais aussi des pages web dynamiques.</p><p>Il existe différents serveurs web, Apache est l&#39;un des plus utilisés. Il existe également Nginx, Caddy, etc. Mais Apache est le plus utilisé, donc c&#39;est le serveur web que nous utiliserons.</p><ul><li>Nginx est également un serveur web très puissant, mais il est un peu plus difficile à configurer.</li><li>Caddy est un serveur web qui est très simple à configurer, mais il est moins puissant qu’apache.</li></ul><h3 id="qu-est-ce-qu-un-serveur-de-base-de-donnees" tabindex="-1">Qu&#39;est-ce qu&#39;un serveur de base de données ? <a class="header-anchor" href="#qu-est-ce-qu-un-serveur-de-base-de-donnees" aria-label="Permalink to &quot;Qu&#39;est-ce qu&#39;un serveur de base de données ?&quot;">​</a></h3><p>Un serveur de base de données est un serveur qui permet de stocker des données. Il permet de stocker des données dans des tables, de faire des requêtes SQL, etc.</p><p>Dans notre cas nous utiliserons MariaDB pour le serveur de base de données. MariaDB est un serveur de base de données open-source qui est très utilisé. Il est très puissant et il est très facile à configurer. Il est possible de configurer MariaDB pour stocker des données dans des tables, de faire des requêtes SQL, etc. Quel que soit le langage de programmation que vous utilisez, il est possible de se connecter à MariaDB pour stocker et récupérer des données. Par exemple, si vous utilisez PHP, vous pouvez utiliser la librairie PDO pour vous connecter à MariaDB.</p><div class="tip custom-block"><p class="custom-block-title">Pourquoi MariaDB et pas MySQL ?</p><p>C&#39;est une bonne question… MariaDB est un fork de MySQL, c&#39;est-à-dire que c&#39;est une copie de MySQL. MariaDB a été créé parce que Oracle a racheté MySQL. Oracle a ensuite décidé de rendre MySQL payant. MariaDB est donc une copie de MySQL qui est gratuite. MariaDB est donc une alternative à MySQL.</p><p>Ce sont donc deux logiciels équivalents, MariadDB est gratuit et MySQL est pour l&#39;instant également gratuit. Mais le logiciel MySQL pourrait devenir payant à l&#39;avenir d&#39;où l&#39;intérêt de se tourner vers MariaDB.</p></div><h2 id="physique-ou-virtuel" tabindex="-1">Physique ou virtuel ? <a class="header-anchor" href="#physique-ou-virtuel" aria-label="Permalink to &quot;Physique ou virtuel ?&quot;">​</a></h2><p>Il est possible d&#39;installer un serveur sur un ordinateur physique, mais il est également possible d&#39;installer un serveur sur une machine virtuelle. Une machine virtuelle est un logiciel qui permet de simuler un ordinateur. Il est possible de créer plusieurs machines virtuelles sur un seul ordinateur. Chaque machine virtuelle est indépendante de l&#39;autre, c&#39;est-à-dire que chaque machine virtuelle est comme un ordinateur physique.</p><p>Le TP que nous allons faire est sur une machine virtuelle. Mais vous pouvez également installer un serveur sur un ordinateur physique.</p><h2 id="la-securite" tabindex="-1">La sécurité <a class="header-anchor" href="#la-securite" aria-label="Permalink to &quot;La sécurité&quot;">​</a></h2><p>Héberger du contenu nécéssite de réfléchir à la sécurité. En effet, il est important de sécuriser son serveur pour éviter que des personnes malveillantes ne puissent accéder à votre serveur et à vos données.</p><p>Différents éléments seront à prendre en compte pour sécuriser votre serveur :</p><ul><li>L&#39;accès aux ports de votre serveur.</li><li>Les services présents sur votre serveur.</li><li>Les utilisateurs présents sur votre serveur.</li><li>Les mots de passe d&#39;accès.</li></ul><div class="danger custom-block"><p class="custom-block-title">Développeur != À l&#39;arrache</p><p>À première vue, vous vous dites que vous n&#39;avez pas besoin de sécuriser votre serveur, car vous êtes le seul à y avoir accès. Mais ce n&#39;est pas une bonne idée. Vous ne savez pas qui peut avoir accès à votre serveur. Il est possible que quelqu&#39;un d&#39;autre ait accès à votre serveur, et que cette personne soit malveillante. Il est donc important de sécuriser votre serveur.</p><p>Vous vous dites également que les serveurs ne sont pas votre histoire. Que c&#39;est l&#39;affaire des personnes dans l&#39;option SISR. Malheureusement pour vous dans la réalité des organisations vous serez amené à gérer des serveurs (au moins de développement).</p></div><h2 id="un-serveur-ou-plusieurs-serveurs" tabindex="-1">Un serveur ou plusieurs serveurs ? <a class="header-anchor" href="#un-serveur-ou-plusieurs-serveurs" aria-label="Permalink to &quot;Un serveur ou plusieurs serveurs ?&quot;">​</a></h2><p>Avant d&#39;aller plus loin… Réfléchissez à la question suivante : est-ce que vous allez installer un seul serveur ou plusieurs serveurs ?</p><p>L&#39;idée est donc de comprendre pourquoi il est intéressant d&#39;avoir plusieurs serveurs. En effet, il est possible d&#39;avoir un seul serveur qui contient tout. Mais il est également possible d&#39;avoir plusieurs serveurs qui contiennent chacun une partie du serveur. Par exemple, vous pouvez avoir un serveur qui contient le serveur web, un serveur qui contient le serveur de base de données, etc.</p><h3 id="pourquoi-avoir-plusieurs-serveurs" tabindex="-1">Pourquoi avoir plusieurs serveurs ? <a class="header-anchor" href="#pourquoi-avoir-plusieurs-serveurs" aria-label="Permalink to &quot;Pourquoi avoir plusieurs serveurs ?&quot;">​</a></h3><p>Il y a plusieurs raisons pour avoir plusieurs serveurs :</p><ul><li>Vous pouvez avoir plusieurs serveurs pour répartir la charge.</li><li>Vous pouvez avoir plusieurs serveurs pour avoir une meilleure disponibilité.</li><li>Vous pouvez avoir plusieurs serveurs pour avoir une meilleure sécurité.</li><li>Vous pouvez avoir plusieurs serveurs pour avoir une meilleure maintenance.</li></ul><h2 id="installation-dans-un-container-docker-ou-directement-sur-la-machine" tabindex="-1">Installation dans un container Docker ou directement sur la machine ? <a class="header-anchor" href="#installation-dans-un-container-docker-ou-directement-sur-la-machine" aria-label="Permalink to &quot;Installation dans un container Docker ou directement sur la machine ?&quot;">​</a></h2><p>Il est possible d&#39;installer un serveur dans un container Docker ou directement sur la machine. Dans notre cas nous allons installer un serveur directement sur la machine.</p><p>Plus tard nous découvrirons Docker et l&#39;avantage de celui-ci (vous verrez c&#39;est incroyable 🎉). Il est de toute façon primordial de comprendre comment on installe un serveur classique pour comprendre l&#39;usage de Docker.</p><div class="tip custom-block"><p class="custom-block-title">Docker c&#39;est vaste</p><p>Plus tard dans l&#39;année nous utiliserons Docker pour créer des environnements de type « Conteneurs »… Volontairement j&#39;ai souhaité vous en parler ici. Donc soyez curieux. N&#39;hésiter pas à vous documenter si vous le souhaitez.</p></div><h2 id="la-procedure-en-video" tabindex="-1">La procédure en vidéo <a class="header-anchor" href="#la-procedure-en-video" aria-label="Permalink to &quot;La procédure en vidéo&quot;">​</a></h2><p>Je sais que vous aimez bien les tutos vidéo. Donc voici l&#39;ensemble de la procédure d&#39;installation résumé une une seule vidéo :</p><p>TODO YOUTUBE</p><div class="tip custom-block"><p class="custom-block-title">À noter</p><p>Comme vous pouvez le voir la procédure est relativement courte quand on la maitrise. Seulement quelques minutes suffise pour créer un serveur Web (Apache + MySQL complet), nous allons voir plus tard qu&#39;avec Docker il est possible de gagner encore plus de temps (sans perdre en qualité bien au contraire).</p></div><h2 id="installation-de-debian" tabindex="-1">Installation de Debian <a class="header-anchor" href="#installation-de-debian" aria-label="Permalink to &quot;Installation de Debian&quot;">​</a></h2><p>Pour créer votre machine, vous allez avoir besoin d&#39;un système d&#39;exploitation. Je vous propose d&#39;utiliser la dernière version de Debian, avant d&#39;aller plus loin posons-nous quelques questions :</p><ul><li>Pourquoi Debian ?</li><li>Pourquoi dans sa dernière version ?</li></ul><h3 id="procedure-d-installation-de-l-os" tabindex="-1">Procédure d&#39;installation de l&#39;OS <a class="header-anchor" href="#procedure-d-installation-de-l-os" aria-label="Permalink to &quot;Procédure d&#39;installation de l&#39;OS&quot;">​</a></h3><p>Vous connaissez la procédure d&#39;installation, mais quelques éléments sont importants à signaler :</p><ul><li><strong>Pas d&#39;interface graphique</strong>.</li><li>Ajuster la configuration de l&#39;adresse IP.</li><li>N&#39;oubliez pas d&#39;installer les VMware Tools.</li></ul><div class="danger custom-block"><p class="custom-block-title">Les performances et la virtualisation</p><p>Sans les VMware tools semble fonctionner correctement ? Oui… À première vue seulement… En réalité votre machine ne tire pas toutes les performances de l&#39;environnement. Pire, elle peut dégrader les performances de toute la ferme.</p><p>Bref, n&#39;oubliez pas d&#39;installer les Tools pour vivre une expérience optimale 👌.</p></div><p><a href="./tp1b.html">Suivre la procédure d&#39;installation de Debian</a></p><div class="tip custom-block"><p class="custom-block-title">👋 Pas d&#39;interface graphique ?</p><p>À votre avis, pourquoi ?</p></div><h3 id="acceder-a-votre-serveur" tabindex="-1">Accéder à votre serveur <a class="header-anchor" href="#acceder-a-votre-serveur" aria-label="Permalink to &quot;Accéder à votre serveur&quot;">​</a></h3><p>Pour accéder à votre serveur, vous pouvez utiliser la Remote Console de VMWare… Mais c&#39;est une solution pas optimale qui sera lente et qui ne vous permettra pas de faire de copier/coller. Je vous propose donc d&#39;utiliser un client SSH.</p><p>Un client SSH est un logiciel qui permet de se connecter à un serveur via SSH. SSH est un protocole qui permet de se connecter à un serveur de manière sécurisée. De plus bien configuré avec des clés SSH, vous n&#39;aurez pas besoin de rentrer de mot de passe (c&#39;est magique… et en cybersécurité c&#39;est une bonne chose).</p><p>Pour installer un client SSH, vous pouvez utiliser Putty (Windows) ou SSH (macOS).</p><p>Installer SSH sur votre serveur Debian :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openssh-server</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Je vous laisse valider l&#39;installation du paquet. Une fois l&#39;installation terminée, vous pouvez vous connecter à votre serveur avec SSH.</p><p>Avant d&#39;aller plus loin, nous allons générer une clé SSH, elle vous servira de clé pour vous connecter à votre serveur. Mais également aux prochains serveurs que vous allez installer.</p><p>Avoir une clé SSH est intéressant, car une clé SSH est plus sécurisée qu&#39;un mot de passe. De plus une clé SSH est un standard, donc vous pouvez l&#39;utiliser pour vous connecter à n&#39;importe quel type de serveur (Linux, mais également GIT, etc.).</p><div class="tip custom-block"><p class="custom-block-title">C&#39;est une clé ultra privée</p><p>La clé SSH est une clé privée, donc ne la partagez pas avec n&#39;importe qui. Elle vous permet de vous connecter à votre serveur, mais également à d&#39;autres serveurs. Si vous la partagez avec n&#39;importe qui, vous risquez de vous faire pirater votre serveur.</p><p><strong>Avoir la clé == Pouvoir se connecter à votre serveur.</strong></p></div><h4 id="generer-une-clef-privee-public" tabindex="-1">Générer une clef privée/public <a class="header-anchor" href="#generer-une-clef-privee-public" aria-label="Permalink to &quot;Générer une clef privée/public&quot;">​</a></h4><p>Cette opération n&#39;est à réaliser qu&#39;une seule fois (sur chaque machine/session). Au lycée, la clef va s&#39;enregistrer dans votre dossier utilisateur, elle sera donc synchronisée automatiquement avec l&#39;ensemble des ordinateurs sur lesquels vous allez pouvoir vous connecter.</p><h4 id="generer-la-clef" tabindex="-1">Générer la clef <a class="header-anchor" href="#generer-la-clef" aria-label="Permalink to &quot;Générer la clef&quot;">​</a></h4><p>La commande pour générer une clef est la suivante.</p><div class="tip custom-block"><p class="custom-block-title">Windows, Linux, macOS ?</p><p>La commande sera la même, quel que soit votre système d&#39;exploitation. Cependant, le terminal lui sera différent :</p><ul><li>Windows : <code>Git Bash</code> (ou <code>Git cmd</code>). (<a href="https://git-scm.com/downloads" target="_blank" rel="noreferrer">nécessite Git</a>)</li><li>macOS : <code>terminal</code>.</li><li>Linux : <code>console</code>.</li></ul></div><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-keygen</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="`+i+'" alt="Génération d&#39;une clef SSH" loading="lazy"></p><p>La commande va générer <strong>deux fichiers</strong> :</p><ul><li><strong>id_rsa</strong>, est privé. <strong>Vous ne devez jamais le partager</strong>.</li><li><strong>id_rsa.pub</strong>, est publique, vous pouvez le partager autant que vous voulez ce fichier permettra de vous reconnaître au moment de la connexion.</li></ul><div class="danger custom-block"><p class="custom-block-title">Plus de sécurité</p><p>Vous pouvez faire « entrée (3×) » pour générer une clef sans mot de passe. Vous pouvez également faire le choix de mettre un mot de passe sur votre clef pour plus de sécurité en cas de perte de celle-ci.</p></div><h4 id="installer-la-clef-sur-votre-serveur" tabindex="-1">Installer la clef sur votre serveur <a class="header-anchor" href="#installer-la-clef-sur-votre-serveur" aria-label="Permalink to &quot;Installer la clef sur votre serveur&quot;">​</a></h4><p>Pour cela, il vous suffit de faire la commande suivante sur votre ordinateur.</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-copy-id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">usernam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ipaddres</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>⚠️ Vous devez évidemment remplacer <code>&lt;username&gt;</code>et <code>&lt;ipaddress&gt;</code>par votre utilisateur et votre mot de passe. Exemple :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-copy-id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pi@192.168.1.253</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">Et voilà !</p><p>Rien de plus, à partir de maintenant votre serveur acceptera votre connexion sans vous demander de mot de passe. Pratique non ? (Et surtout très sécurisé)</p></div><h2 id="installation-de-apache" tabindex="-1">Installation de Apache <a class="header-anchor" href="#installation-de-apache" aria-label="Permalink to &quot;Installation de Apache&quot;">​</a></h2><h3 id="presentation" tabindex="-1">Présentation <a class="header-anchor" href="#presentation" aria-label="Permalink to &quot;Présentation&quot;">​</a></h3><p>Apache est un serveur web. Il permet de servir des pages web, mais également des applications web. Il est très utilisé sur le web, car il est gratuit, open source et très performant.</p><h3 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to &quot;Installation&quot;">​</a></h3><p>Pour installer Apache sur votre serveur, vous pouvez utiliser la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apache2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="demarrez-le-serveur" tabindex="-1">Démarrez le serveur <a class="header-anchor" href="#demarrez-le-serveur" aria-label="Permalink to &quot;Démarrez le serveur&quot;">​</a></h3><p>Maintenant que le serveur est installé, il faut le démarrer. Pour cela, vous pouvez utiliser la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apache2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="verifier-que-le-serveur-est-demarre" tabindex="-1">Vérifier que le serveur est démarré <a class="header-anchor" href="#verifier-que-le-serveur-est-demarre" aria-label="Permalink to &quot;Vérifier que le serveur est démarré&quot;">​</a></h3><p>Pour vérifier que le serveur est démarré, vous pouvez utiliser la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apache2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="verifier-que-le-serveur-est-accessible" tabindex="-1">Vérifier que le serveur est accessible <a class="header-anchor" href="#verifier-que-le-serveur-est-accessible" aria-label="Permalink to &quot;Vérifier que le serveur est accessible&quot;">​</a></h3><p>Pour vérifier que le serveur est accessible, il vous suffit d&#39;ouvrir votre navigateur et d&#39;aller sur l&#39;adresse IP de votre serveur. Si vous avez bien suivi les étapes précédentes, vous devriez voir la page d&#39;accueil d&#39;Apache.</p><p><img src="'+n+`" alt="Page d&#39;accueil d&#39;Apache" loading="lazy"></p><h3 id="demarrer-le-serveur-au-demarrage-du-systeme" tabindex="-1">Démarrer le serveur au démarrage du système <a class="header-anchor" href="#demarrer-le-serveur-au-demarrage-du-systeme" aria-label="Permalink to &quot;Démarrer le serveur au démarrage du système&quot;">​</a></h3><p>Pour que le serveur se lance automatiquement au démarrage du système, vous pouvez utiliser la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apache2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="ou-sont-les-fichiers-du-serveur" tabindex="-1">Où sont les fichiers du serveur <a class="header-anchor" href="#ou-sont-les-fichiers-du-serveur" aria-label="Permalink to &quot;Où sont les fichiers du serveur&quot;">​</a></h3><p>Les fichiers du serveur sont dans le dossier <code>/var/www/html</code>. Vous pouvez y accéder avec la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/www/html</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>C&#39;est ici que nous voyons l&#39;avantage de Linux. L&#39;architecture est très simple, et les fichiers sont très facilement accessibles.</p><h3 id="personnaliser-la-page-d-accueil" tabindex="-1">Personnaliser la page d&#39;accueil <a class="header-anchor" href="#personnaliser-la-page-d-accueil" aria-label="Permalink to &quot;Personnaliser la page d&#39;accueil&quot;">​</a></h3><p>Pour personnaliser la page d&#39;accueil, vous pouvez modifier le fichier <code>index.html</code> dans le dossier <code>/var/www/html</code>. Vous pouvez utiliser la commande suivante pour y accéder :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/www/html/index.html</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Vous pouvez également utiliser FileZilla pour modifier le fichier.</p><h3 id="deployer-votre-site-web" tabindex="-1">Déployer votre site web <a class="header-anchor" href="#deployer-votre-site-web" aria-label="Permalink to &quot;Déployer votre site web&quot;">​</a></h3><p>Je vous laisse créer une petite page web, et la déployer sur votre serveur. Votre site doit respecter les règles suivantes :</p><ul><li>Le fichier doit être nommé <code>index.html</code>.</li><li>Posséder un titre (Bienvenue sur mon site).</li><li>Posséder un paragraphe (Ceci est mon site web).</li><li>Posséder une image (Une image de votre choix).</li><li>Posséder un lien vers un autre site (Un lien vers le site de votre choix).</li></ul><p>👋 C&#39;est à vous de jouer.</p><p>Une fois votre code réalisé, je vous propose de le déployer sur votre serveur. Pour cela, vous pouvez utiliser FileZilla. Je vous propose de créer un dossier <code>monsite</code> dans le dossier <code>/var/www/html</code>.</p><p>👀 Le dossier est créé ? vous pouvez déposer votre fichier <code>index.html</code> dans le dossier <code>monsite</code>. Vous pouvez ensuite ouvrir votre navigateur et aller sur l&#39;adresse IP de votre serveur. Vous devriez voir votre site web.</p><h2 id="installation-de-php" tabindex="-1">Installation de PHP <a class="header-anchor" href="#installation-de-php" aria-label="Permalink to &quot;Installation de PHP&quot;">​</a></h2><p>Avoir un serveur web sans PHP, c&#39;est comme avoir un serveur web sans base de données. C&#39;est un peu dommage. PHP est un langage de programmation qui permet de faire des applications web. Il est très utilisé sur le web, car il est gratuit, open source et très performant.</p><h3 id="installation-1" tabindex="-1">Installation <a class="header-anchor" href="#installation-1" aria-label="Permalink to &quot;Installation&quot;">​</a></h3><p>La version de PHP fourni par défaut sur Debian est un peu ancienne. Pour avoir la dernière version, nous devons ajouter un dépôt. Pour cela, vous pouvez utiliser les commandes suivantes :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lsb-release</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-transport-https</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gnupg2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ca-certificates</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -O</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/apt/trusted.gpg.d/php.gpg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://packages.sury.org/php/apt.gpg</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;echo &quot;deb https://packages.sury.org/php/ $(lsb_release -sc) main&quot; &gt; /etc/apt/sources.list.d/php.list&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Ces commandes vont ajouter le dépôt permettant d&#39;installer la dernière version de PHP. Ce dépôt est maintenu par Ondřej Surý, un développeur PHP.</p><p>Maintenant que le dépôt est ajouté, nous pouvons installer PHP. Pour cela, vous pouvez utiliser la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> php8.2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> php8.2-fpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> php8.2-cli</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> php8.2-{bz2,curl,mbstring,intl}</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="verifier-que-php-est-installe" tabindex="-1">Vérifier que PHP est installé <a class="header-anchor" href="#verifier-que-php-est-installe" aria-label="Permalink to &quot;Vérifier que PHP est installé&quot;">​</a></h3><p>Pour vérifier que PHP est installé, vous pouvez utiliser la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Cette commande va vous afficher la version de PHP installée sur votre serveur.</p><p>Un instant, quelle version de PHP est installée ?</p><h3 id="verifier-que-apache-php-fonctionne" tabindex="-1">Vérifier que Apache + PHP fonctionne <a class="header-anchor" href="#verifier-que-apache-php-fonctionne" aria-label="Permalink to &quot;Vérifier que Apache + PHP fonctionne&quot;">​</a></h3><p>Maintenant que notre PHP est installé, il faut l&#39;activer :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">a2enmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> proxy_fcgi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> setenvif</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rewrite</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> headers</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">a2enconf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> php8.2-fpm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apache2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Pour vérifier que Apache + PHP fonctionne, vous pouvez créer un fichier <code>info.php</code> dans le dossier <code>/var/www/html</code>. Vous pouvez utiliser la commande suivante pour y accéder :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/www/html/info.php</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Dans ce fichier <code>info.php</code>, vous pouvez mettre le code suivant :</p><div class="language-php vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;?</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">php</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">phpinfo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Vous pouvez ensuite ouvrir votre navigateur et aller sur l&#39;adresse IP de votre serveur. Si vous avez bien suivi les étapes précédentes, vous devriez voir la page d&#39;information de PHP.</p><div class="tip custom-block"><p class="custom-block-title">phpinfo() ?</p><p>La fonction <code>phpinfo()</code> permet d&#39;afficher les informations de PHP. C&#39;est très pratique pour vérifier que tout fonctionne correctement. Vous pouvez également utiliser cette fonction pour vérifier que les extensions PHP sont bien installées.</p><p>Comme par exemple <code>php-pdo</code> et <code>php-mysql</code> pour la base de données.</p></div><h3 id="ecrire-du-code-php-pour-tester" tabindex="-1">Écrire du code PHP pour tester <a class="header-anchor" href="#ecrire-du-code-php-pour-tester" aria-label="Permalink to &quot;Écrire du code PHP pour tester&quot;">​</a></h3><p>Pour tester que PHP fonctionne, vous pouvez créer un fichier <code>test.php</code> dans le dossier <code>/var/www/html</code>. Vous pouvez utiliser la commande suivante pour y accéder :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/www/html/test.php</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Dans ce fichier <code>test.php</code>, vous pouvez mettre le code suivant :</p><div class="language-php vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;?</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">php</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Hello &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $_GET[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;name&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Vous pouvez ensuite ouvrir votre navigateur et aller sur l&#39;adresse IP de votre serveur. Si vous avez bien suivi les étapes précédentes, vous devriez voir le message <code>Hello</code> suivi du nom que vous avez rentré dans l&#39;URL.</p><p>👋 C&#39;est à vous de jouer.</p><h2 id="installation-de-mariadb" tabindex="-1">Installation de MariaDB <a class="header-anchor" href="#installation-de-mariadb" aria-label="Permalink to &quot;Installation de MariaDB&quot;">​</a></h2><p>Maintenant que nous avons un serveur web, nous allons installer une base de données. Nous allons installer MariaDB, une base de données open source, qui est compatible avec MySQL.</p><div class="danger custom-block"><p class="custom-block-title">Attention</p><p>Un instant, dans ce TP nous allons installer MariaDB sur le même serveur que Apache. C&#39;est une mauvaise pratique, car si Apache tombe, MariaDB tombe aussi.</p><p>Dans la vraie vie, il est préférable d&#39;avoir un serveur web et un serveur de base de données séparé. C&#39;est plus sécurisé et plus performant.</p></div><h3 id="installation-2" tabindex="-1">Installation <a class="header-anchor" href="#installation-2" aria-label="Permalink to &quot;Installation&quot;">​</a></h3><p>Pour installer MariaDB, vous pouvez utiliser la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mariadb-server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mariadb-client</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Pourquoi ces deux paquets ? <code>mariadb-server</code> est le serveur de base de données, et <code>mariadb-client</code> est le client de base de données. Le client est utilisé pour se connecter à la base de données.</p><div class="tip custom-block"><p class="custom-block-title">Arrêtons-nous un instant</p><ul><li>Pourquoi faire un update avant d&#39;installer un paquet ?</li><li>À quoi correspond le <code>-y</code> à la fin de la commande ?</li><li>Selon vous, est-ce que votre serveur de base de données est démarré ? Si oui, comment le vérifier ?</li></ul></div><h3 id="configuration" tabindex="-1">Configuration <a class="header-anchor" href="#configuration" aria-label="Permalink to &quot;Configuration&quot;">​</a></h3><p>Avant d&#39;utiliser MariaDB, nous devons configurer le mot de passe de l&#39;utilisateur <code>root</code>. Pour cela, vous pouvez utiliser la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mysql_secure_installation</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Cette commande va vous demander de rentrer le mot de passe actuel de l&#39;utilisateur <code>root</code>. Comme vous venez d&#39;installer MariaDB.</p><div class="tip custom-block"><p class="custom-block-title">Arrêtons-nous un instant</p><ul><li>Qu&#39;est-ce que <code>mysql_secure_installation</code> ?</li><li>Pourquoi est-ce important de changer le mot de passe de l&#39;utilisateur <code>root</code> ?</li><li>Quel mot de passe avez-vous choisi ? Pourquoi ?</li></ul></div><h3 id="verifier-que-mariadb-est-installe" tabindex="-1">Vérifier que MariaDB est installé <a class="header-anchor" href="#verifier-que-mariadb-est-installe" aria-label="Permalink to &quot;Vérifier que MariaDB est installé&quot;">​</a></h3><p>Pour vérifier que MariaDB est installé, vous pouvez utiliser la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mysql</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Cette commande va vous demander le mot de passe de l&#39;utilisateur <code>root</code>. Si vous avez bien suivi les étapes précédentes, vous devriez être connecté à MariaDB.</p><h3 id="php-et-mariadb" tabindex="-1">PHP et MariaDB <a class="header-anchor" href="#php-et-mariadb" aria-label="Permalink to &quot;PHP et MariaDB&quot;">​</a></h3><p>Lors de l&#39;installation de PHP, nous avons installé l&#39;extension <code>php-mysql</code>. Cette extension permet d&#39;utiliser MariaDB avec PHP, elle est donc indispensable pour faire fonctionner vos sites webs si vous utilisez une base de données.</p><div class="tip custom-block"><p class="custom-block-title">Arrêtons-nous un instant</p><ul><li>Qu&#39;est-ce que <code>php-mysql</code> ?</li><li>Pourquoi MySQL et pas MariaDB ?</li></ul></div><h2 id="les-virtualhost" tabindex="-1">Les virtualHost <a class="header-anchor" href="#les-virtualhost" aria-label="Permalink to &quot;Les virtualHost&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/apache2/sites-available/votre-virtual-host.conf</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-apache vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">apache</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">VirtualHost</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> *:9090</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    ServerAdmin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> webmaster@localhost</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    DocumentRoot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /var/www/html/votre-dossier</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Directory</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/www/html/votre-dossier</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        Options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Indexes FollowSymLinks</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        AllowOverride</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> All</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        Require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> all granted</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Directory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    ErrorLog</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${APACHE_LOG_DIR}/error.log</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    CustomLog</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${APACHE_LOG_DIR}/access.log combined</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">VirtualHost</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>Activer un virtual host :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">a2ensite</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> votre-virtual-host</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Désactiver un virtual host :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">a2dissite</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> votre-virtual-host</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="installation-de-phpmyadmin" tabindex="-1">Installation de phpMyAdmin <a class="header-anchor" href="#installation-de-phpmyadmin" aria-label="Permalink to &quot;Installation de phpMyAdmin&quot;">​</a></h2><p>Maintenant que nous avons un serveur web et une base de données, nous allons installer phpMyAdmin. phpMyAdmin est un outil qui permet de gérer facilement une base de données. Il permet de créer des bases de données, des tables, des utilisateurs, etc.</p><p>Vous l&#39;avez déjà utilisé, mais vous ne l&#39;avez jamais installé. C&#39;est le moment de le faire.</p><h3 id="installation-3" tabindex="-1">Installation <a class="header-anchor" href="#installation-3" aria-label="Permalink to &quot;Installation&quot;">​</a></h3><p>Pour installer phpMyAdmin, vous pouvez utiliser la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> unzip</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/www/html</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://files.phpmyadmin.net/phpMyAdmin/5.2.0/phpMyAdmin-5.2.0-all-languages.zip</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">unzip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> phpMyAdmin-5.2.0-all-languages.zip</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> phpMyAdmin-5.2.0-all-languages</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> phpmyadmin</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> phpMyAdmin-5.2.0-all-languages.zip</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>L&#39;installation est le résultat de plusieurs commandes :</p><ul><li><code>apt install unzip</code> : on installe l&#39;utilitaire <code>unzip</code>. C&#39;est un utilitaire qui permet de décompresser des fichiers <code>.zip</code>.</li><li><code>cd /var/www/html</code> : on se déplace dans le dossier <code>/var/www/html</code>.</li><li><code>wget …</code> : on télécharge le fichier <code>phpMyAdmin-5.2.0-all-languages.zip</code>. Depuis les serveurs de phpMyAdmin.</li><li><code>unzip …</code> : on décompresse le fichier <code>phpMyAdmin-5.2.0-all-languages.zip</code>.</li><li><code>mv …</code> : on renomme le dossier <code>phpMyAdmin-5.2.0-all-languages</code> en <code>phpmyadmin</code>. Car il est plus simple de taper <code>phpmyadmin</code> que <code>phpMyAdmin-5.2.0-all-languages</code>.</li><li><code>rm …</code> : on supprime le fichier <code>phpMyAdmin-5.2.0-all-languages.zip</code>. Car il n&#39;est plus utile.</li></ul><div class="tip custom-block"><p class="custom-block-title">Arrêtons-nous un instant</p><ul><li>Pourquoi utilisons-nous la version du site web de phpMyAdmin ? Et pas la version du dépôt Debian ?</li><li>À votre avis est-ce suffisant pour que phpMyAdmin fonctionne ?</li></ul></div><h3 id="creer-un-virtual-host-dedie-a-phpmyadmin" tabindex="-1">Créer un virtual host dédié à phpMyAdmin <a class="header-anchor" href="#creer-un-virtual-host-dedie-a-phpmyadmin" aria-label="Permalink to &quot;Créer un virtual host dédié à phpMyAdmin&quot;">​</a></h3><p>Nous pourrions utiliser PhpMyAdmin en allant sur l&#39;adresse <code>http://ip_du_serveur/phpmyadmin</code>. Mais ce n&#39;est pas une bonne pratique. Nous allons donc créer un virtual host dédié à phpMyAdmin.</p><p>Un virtual host permet de séparer les sites web. Par exemple, si vous avez un site web <code>exemple.com</code>, vous pouvez avoir un virtual host pour <code>exemple.com</code> et un autre pour <code>phpmyadmin.exemple.com</code>. Cela permet de séparer les sites web, et de ne pas avoir de conflit entre les deux.</p><p>Évidemment au lycée nous n&#39;avons pas de nom de domaine, par contre, votre serveur possède une adresse IP et 65535 ports. Nous allons donc utiliser un port différent pour phpMyAdmin. Nous allons utiliser le port <code>9090</code>.</p><p>Pour créer un virtual host, vous pouvez utiliser la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/apache2/sites-available/phpmyadmin.conf</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Cette commande va créer un fichier <code>phpmyadmin.conf</code> dans le dossier <code>/etc/apache2/sites-available</code>. Ce fichier va contenir la configuration de notre virtual host.</p><p>Ce fichier va contenir la configuration de notre virtual host. Vous pouvez copier-coller le code suivant :</p><div class="language-apache vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">apache</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">VirtualHost</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> *:9090</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    ServerAdmin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> webmaster@localhost</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    DocumentRoot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /var/www/html/phpmyadmin</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Directory</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/www/html/phpmyadmin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        Options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Indexes FollowSymLinks</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        AllowOverride</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> All</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        Require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> all granted</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Directory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    ErrorLog</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${APACHE_LOG_DIR}/error.log</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    CustomLog</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \${APACHE_LOG_DIR}/access.log combined</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">VirtualHost</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>Cette configuration va permettre d&#39;utiliser le port <code>9090</code> pour accéder à phpMyAdmin. Vous pouvez maintenant enregistrer le fichier.</p><p>Pour activer le virtual host, vous pouvez utiliser la commande suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">a2ensite</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> phpmyadmin</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Cette commande va activer le virtual host <code>phpmyadmin.conf</code>. Vous pouvez maintenant redémarrer Apache pour que les modifications soient prises en compte :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apache2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">Arrêtons-nous un instant</p><ul><li>Qu&#39;est-ce qu&#39;un virtual host ?</li><li>Pourquoi utilisons-nous le port <code>9090</code> ?</li><li>Où avons-nous défini le port <code>9090</code> ?</li><li>À quoi sert la commande <code>a2ensite</code> ?</li><li>Pourquoi avons-nous besoin de redémarrer Apache ?</li></ul></div><h3 id="acceder-a-phpmyadmin" tabindex="-1">Accéder à phpMyAdmin <a class="header-anchor" href="#acceder-a-phpmyadmin" aria-label="Permalink to &quot;Accéder à phpMyAdmin&quot;">​</a></h3><p>Si vous avez bien suivi les étapes précédentes, vous pouvez maintenant accéder à phpMyAdmin. Vous pouvez utiliser l&#39;adresse suivante : <code>http://ip_du_serveur:9090</code>.</p><p><img src="`+o+'" alt="phpMyAdmin" loading="lazy"></p><p>Je vous laisse vous connecter à phpMyAdmin, pour l&#39;instant vous n&#39;avez pas créé d&#39;utilisateur. Vous pouvez donc utiliser l&#39;utilisateur <code>root</code> pour vous connecter. Vous pouvez utiliser le mot de passe que vous avez défini lors de l&#39;installation de MariaDB.</p><h2 id="conclusion" tabindex="-1">Conclusion <a class="header-anchor" href="#conclusion" aria-label="Permalink to &quot;Conclusion&quot;">​</a></h2><p>Vous avez maintenant un serveur web et une base de données. Vous pouvez maintenant créer des sites web dynamiques. Vous pouvez utiliser PHP pour créer des sites web dynamiques. Vous pouvez utiliser MySQL ou MariaDB pour stocker des données.</p>',189),h=s("iframe",{src:"https://giphy.com/embed/3o7btNa0RUYa5E7iiQ",width:"480",height:"480",frameBorder:"0",class:"giphy-embed",allowFullScreen:""},null,-1),v=e('<p>Même si l&#39;ensemble des étapes ne sont pas réellement longues, il est important de bien comprendre ce que vous faites. Notamment pour la configuration de MariaDB et de phpMyAdmin. Si vous avez des questions, n&#39;hésitez pas à me les poser.</p><p>Le développeur cherche à automatiser le plus possible son installation c&#39;est pour ça que par la suite nous verrons comment automatiser entièrement l&#39;installation de MariaDB, PHP et Apache grâce à Docker et Docker Compose.</p><p>Cependant il est important de comprendre les commandes de bases ainsi que la notion de virtual host / port, car elles seront utilisées dans le cadre de Docker.</p><div class="danger custom-block"><p class="custom-block-title">Attention</p><p>Même si vous suivez l&#39;option SLAM, il ne faut pas perdre de vue qu&#39;en première année de BTS SIO vous allez devoir faire un projet de fin d&#39;année. Ce projet va vous permettre de mettre en pratique ce que vous avez appris en première année. Vous allez donc devoir créer un site web dynamique. Vous allez donc devoir utiliser PHP, MySQL ou MariaDB, et Apache.</p><p>Lors de l&#39;examen final, vous serez également amené à créer un site web dynamique. Vous allez donc devoir utiliser PHP, MySQL ou MariaDB, et Apache. Vous allez donc devoir utiliser les commandes que vous avez vu dans ce chapitre.</p></div><h2 id="synthese" tabindex="-1">Synthèse <a class="header-anchor" href="#synthese" aria-label="Permalink to &quot;Synthèse&quot;">​</a></h2><p>Vous avez à votre disposition une synthèse de ce TP disponible ici : <a href="/cheatsheets/serveur/debian-web.html">Aide mémoire</a></p><h2 id="liens" tabindex="-1">Liens <a class="header-anchor" href="#liens" aria-label="Permalink to &quot;Liens&quot;">​</a></h2><ul><li><a href="https://httpd.apache.org/" target="_blank" rel="noreferrer">Apache</a></li><li><a href="https://mariadb.org/" target="_blank" rel="noreferrer">MariaDB</a></li><li><a href="https://www.phpmyadmin.net/" target="_blank" rel="noreferrer">PhpMyAdmin</a></li><li><a href="https://www.php.net/" target="_blank" rel="noreferrer">PHP</a></li><li><a href="https://www.mysql.com/" target="_blank" rel="noreferrer">MySQL</a></li></ul><details class="details custom-block"><summary>Bonus, accéder à votre base de données depuis votre ordinateur</summary><p>Par défaut, le port 3306 est fermé sur Debian. Il faut donc l&#39;ouvrir pour que les applications puissent se connecter à la base de données. La configuration se fait dans le fichier <code>/etc/mysql/mariadb.conf.d/50-server.cnf</code>.</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/mysql/mariadb.conf.d/50-server.cnf</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Ajoutez la ligne suivante dans la section <code>[mysqld]</code>.</p><div class="language-ini vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bind-address</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 0.0.0.0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Redémarrer le serveur MySQL</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="tip-pourquoi" tabindex="-1">tip Pourquoi ? <a class="header-anchor" href="#tip-pourquoi" aria-label="Permalink to &quot;tip Pourquoi ?&quot;">​</a></h2><p>Par défaut, le serveur MySQL n&#39;écoutera que les connexions locales. Il faut donc autoriser les connexions distantes en modifiant la valeur de <code>bind-address</code>. <strong>Si vous n&#39;en avez pas besoin, vous pouvez laisser la valeur par défaut.</strong></p><p>Changer se paramètre sera utile quand vous souhaiterez accéder à la base de données depuis un autre ordinateur (exemple développement en C#).</p></details>',9),m=[u,d,c,h,v];function k(b,g,y,F,f,q){return t(),l("div",null,m)}const z=r(p,[["render",k]]);export{w as __pageData,z as default};
