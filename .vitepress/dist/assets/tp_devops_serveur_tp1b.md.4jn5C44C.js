import{_ as t,a as l,b as n,c as o}from"./chunks/ferme-iso-3.CW2kr7J3.js";import{_ as u}from"./chunks/ssh-key.DAgerwsG.js";import{_ as p,c,I as d,U as s,k as e,o as h,D as v}from"./chunks/framework.aGaNZw_P.js";const m="/assets/1.CLl3CLHI.jpg",a="/assets/2.BY3gDddf.jpg",i="/assets/3.Bnc76E_h.jpg",g="/assets/4.DMxOmrCF.jpg",b="/assets/5-ip.DOygdChn.jpg",k="/assets/5-masque.BY9eH0Vc.jpg",f="/assets/5-gateway.CdmSKd1I.jpg",y="/assets/5-dns.DTWv1RX6.jpg",q="/assets/5-nom.D6cvXRKg.jpg",C="/assets/6.-liOXwi5.jpg",F="/assets/7.trOk1ASg.jpg",E="/assets/7a.C4Nfg3Vw.jpg",S="/assets/7b.DOUVuQwv.jpg",P="/assets/7c.DS5bVtxR.jpg",_="/assets/8.BXYE94tF.jpg",x="/assets/9.CM16QNOG.jpg",z="/assets/10.Bc0DSayL.jpg",B="/assets/11.CBsssks1.jpg",w="/assets/12.4nZ32zsw.jpg",L="/assets/ssh-client.CadhHVhC.jpg",K=JSON.parse('{"title":"TP1b. Installer votre premier serveur","description":"Installer votre premier serveur virtuel sur la ferme.","frontmatter":{"description":"Installer votre premier serveur virtuel sur la ferme."},"headers":[],"relativePath":"tp/devops/serveur/tp1b.md","filePath":"tp/devops/serveur/tp1b.md","lastUpdated":1704218918000}'),I={name:"tp/devops/serveur/tp1b.md"},D=s('<h1 id="tp1b-installer-votre-premier-serveur" tabindex="-1">TP1b. Installer votre premier serveur <a class="header-anchor" href="#tp1b-installer-votre-premier-serveur" aria-label="Permalink to &quot;TP1b. Installer votre premier serveur&quot;">‚Äã</a></h1><details class="details custom-block"><summary>Sommaire</summary><nav class="table-of-contents"><ul><li><a href="#objectifs">Objectifs</a></li><li><a href="#pre-requis">Pr√©-requis</a></li><li><a href="#ressources">Ressources</a></li><li><a href="#le-premier-boot">Le premier boot</a></li><li><a href="#connecter-un-iso-pour-l-installation">Connecter un ISO pour l&#39;installation</a></li><li><a href="#la-securite">La s√©curit√©</a></li><li><a href="#l-installation">L&#39;installation</a><ul><li><a href="#choix-du-type-d-installation">Choix du type d&#39;installation</a></li><li><a href="#le-choix-de-la-langue">Le choix de la langue</a></li><li><a href="#le-choix-du-clavier">Le choix du clavier</a></li><li><a href="#le-choix-de-l-emplacement-geographique">Le choix de l&#39;emplacement g√©ographique</a></li><li><a href="#la-configuration-du-reseau">La configuration du r√©seau</a></li><li><a href="#le-choix-du-mot-de-passe-root">Le choix du mot de passe root</a></li><li><a href="#le-compte-utilisateur">Le compte utilisateur</a></li><li><a href="#les-partitions">Les partitions</a></li><li><a href="#installation">Installation</a></li><li><a href="#le-mirroir">Le mirroir</a></li><li><a href="#logiciels-a-installer">Logiciels √† installer</a></li><li><a href="#grub">GRUB</a></li><li><a href="#installation-terminee">Installation termin√©e</a></li><li><a href="#le-premier-reboot">Le premier reboot</a></li></ul></li><li><a href="#configuration-du-reseau">Configuration du r√©seau</a><ul><li><a href="#verifier-l-acces-a-internet">V√©rifier l&#39;acc√®s √† Internet</a></li></ul></li><li><a href="#installer-les-vmware-tools">Installer les vmware tools</a><ul><li><a href="#observer-la-configuration-du-serveur">Observer la configuration du serveur</a></li><li><a href="#modifier-l-adresse-ip-de-votre-serveur">Modifier l&#39;adresse IP de votre serveur</a></li></ul></li><li><a href="#installation-des-logiciels">Installation des logiciels</a><ul><li><a href="#les-droits">Les droits</a></li><li><a href="#installation-de-vim">Installation de vim</a></li><li><a href="#installation-de-ssh">Installation de SSH</a></li></ul></li><li><a href="#acces-a-votre-serveur">Acc√®s √† votre serveur</a><ul><li><a href="#acces-ssh">Acc√®s SSH</a></li><li><a href="#securiser-votre-serveur">S√©curiser votre serveur</a></li></ul></li><li><a href="#l-echange-de-cles">L&#39;√©change de cl√©s</a><ul><li><a href="#generer-une-cle-ssh">G√©n√©rer une cl√© SSH</a></li><li><a href="#ajouter-votre-cle-publique-sur-votre-serveur">Ajouter votre cl√© publique sur votre serveur</a></li><li><a href="#se-connecter-a-votre-serveur">Se connecter √† votre serveur</a></li><li><a href="#bonus-ne-plus-autoriser-l-acces-ssh-avec-un-mot-de-passe">Bonus : Ne plus autoriser l&#39;acc√®s SSH avec un mot de passe</a></li></ul></li><li><a href="#installer-des-paquets">Installer des paquets</a></li><li><a href="#installer-apache">Installer Apache</a><ul><li><a href="#installation-1">Installation</a></li><li><a href="#verification">V√©rification</a></li><li><a href="#acceder-a-votre-site">Acc√©der √† votre site</a></li><li><a href="#les-permissions">Les permissions</a></li><li><a href="#creer-une-page-web">Cr√©er une page web</a></li></ul></li><li><a href="#conclusion">Conclusion</a></li></ul></nav></details><h2 id="objectifs" tabindex="-1">Objectifs <a class="header-anchor" href="#objectifs" aria-label="Permalink to &quot;Objectifs&quot;">‚Äã</a></h2><p>Dans ce TP nous allons installer votre premier serveur Debian. L&#39;id√©e de cette installation est de voir les diff√©rentes √©tapes de l&#39;installation d&#39;un Linux sur la ferme. Nous allons voir :</p><ul><li>Comment installer un syst√®me d&#39;exploitation.</li><li>Comment configurer le r√©seau.</li><li>Comment installer des logiciels.</li><li>Comment acc√©der √† votre serveur depuis votre poste de travail.</li></ul><h2 id="pre-requis" tabindex="-1">Pr√©-requis <a class="header-anchor" href="#pre-requis" aria-label="Permalink to &quot;Pr√©-requis&quot;">‚Äã</a></h2><p>Pour r√©aliser ce TP vous devez savoir cr√©er une VM sur la ferme. Si vous ne savez pas comment faire, vous pouvez consulter le TP ¬´ <a href="./tp1.html">cr√©er une VM sur la ferme</a> ¬ª.</p><p>Vous avez cr√©√© votre VM ? Alors c&#39;est parti !</p><div class="tip custom-block"><p class="custom-block-title">Installer Debian</p><p>M√™me si au premier abord installer une Debian semble intimidant vous allez voir qu&#39;en r√©alit√© c&#39;est plut√¥t tr√®s simple.</p><p>PS: Si vous cherchez plus de d√©fi, vous pouvez installer une <a href="https://wiki.archlinux.org/index.php/Installation_guide" target="_blank" rel="noreferrer">Arch Linux</a> ou une <a href="https://www.alpinelinux.org/" target="_blank" rel="noreferrer">Alpine Linux</a>. Mais attention, c&#39;est plus compliqu√© ! <strong>Et surtout non utilis√© en entreprise.</strong></p><p>Blague √† part üôÉ, commen√ßons par installer une Debian, c&#39;est l&#39;une des distributions les plus utilis√©es en entreprise. Il faut donc ma√Ætriser les rudiments de cette distribution.</p></div><h2 id="ressources" tabindex="-1">Ressources <a class="header-anchor" href="#ressources" aria-label="Permalink to &quot;Ressources&quot;">‚Äã</a></h2><p>Pour r√©aliser ce TP, vous aurez besoin de :</p><ul><li><a href="/cheatsheets/serveur/linux-debian-based.html">Aide m√©moire Debian</a></li><li><a href="/cheatsheets/serveur/debian-reseau.html">G√©n√©rateur de configuration</a></li><li><a href="/cheatsheets/ssh-key/">Aide m√©moire cl√© SSH</a></li></ul><h2 id="le-premier-boot" tabindex="-1">Le premier boot <a class="header-anchor" href="#le-premier-boot" aria-label="Permalink to &quot;Le premier boot&quot;">‚Äã</a></h2><p>Avant d&#39;aller plus loin, r√©fl√©chissons ensemble au premier d√©marrage de votre machine virtuelle. Vous venez de cr√©er un serveur, celui-ci est normalement √©quip√© :</p><ul><li>8Go de disque dur.</li><li>2Go de RAM.</li></ul><p>Cette configuration est suffisante pour installer une Debian.</p><p>Votre machine virtuelle va se comporter comme une machine physique. La premi√®re √©tape est donc de v√©rifier que vous avez bien mis un ¬´ disque ¬ª dans le lecteur CD / Cl√© USB pour mettre le syst√®me d&#39;exploitation.</p><h2 id="connecter-un-iso-pour-l-installation" tabindex="-1">Connecter un ISO pour l&#39;installation <a class="header-anchor" href="#connecter-un-iso-pour-l-installation" aria-label="Permalink to &quot;Connecter un ISO pour l&#39;installation&quot;">‚Äã</a></h2><p>Pour installer votre syst√®me d&#39;exploitation, vous allez devoir connecter un ISO √† votre VM.</p><div class="tip custom-block"><p class="custom-block-title">Un ISO ?</p><p>Un ISO est un fichier qui contient une image d&#39;un CD ou d&#39;un DVD. Il est possible de cr√©er un ISO √† partir d&#39;un CD ou d&#39;un DVD. Il est √©galement possible de t√©l√©charger un ISO sur internet.</p><p>Le fichier ISO est une copie parfaite d&#39;un disque physique.</p></div><p>Pour connecter un ISO √† votre VM :</p><ul><li>Clique droit sur votre VM et ¬´ Modifier les param√®tres ¬ª.</li></ul><p><img src="'+t+'" alt="Modifier les param√®tres" loading="lazy"></p><p><img src="'+l+'" alt="Choix de l&#39;ISO" loading="lazy"></p><ul><li>choisir l‚Äôimage iso (liste d√©roulante) que vous souhaitez : Par exemple <code>debian-11.5.0-amd64-netinst.iso</code> qui se trouve dans la banque de donn√©es ISO puis r√©pertoire <code>\\LINUX\\</code>.</li><li>N‚Äôoubliez pas de cocher la case ¬´ Connecter lors de la mise sous tension ¬ª sinon votre vm ne bootera pas sur votre iso/cd au d√©marrage.</li></ul><p><img src="'+n+'" alt="Choix de l&#39;ISO 2" loading="lazy"><img src="'+o+'" alt="Choix de l&#39;ISO 3" loading="lazy"></p><div class="tip custom-block"><p class="custom-block-title">Et voil√† !</p><p>Vous venez de cr√©er votre premi√®re VM. Celle-ci est pr√™te √† √™tre d√©marr√©e et √† √™tre install√© (comme un v√©ritable ordinateur).</p></div><h2 id="la-securite" tabindex="-1">La s√©curit√© <a class="header-anchor" href="#la-securite" aria-label="Permalink to &quot;La s√©curit√©&quot;">‚Äã</a></h2><p>H√©berger du contenu n√©c√©ssite de r√©fl√©chir √† la s√©curit√©. En effet, il est important de s√©curiser son serveur pour √©viter que des personnes malveillantes ne puissent acc√©der √† votre serveur et √† vos donn√©es.</p><p>Diff√©rents √©l√©ments seront √† prendre en compte pour s√©curiser votre serveur :</p><ul><li>L&#39;acc√®s aux ports de votre serveur.</li><li>Les services pr√©sents sur votre serveur.</li><li>Les utilisateurs pr√©sents sur votre serveur.</li><li>Les mots de passe d&#39;acc√®s.</li></ul><div class="danger custom-block"><p class="custom-block-title">D√©veloppeur != √Ä l&#39;arrache</p><p>√Ä premi√®re vue, vous vous dites que vous n&#39;avez pas besoin de s√©curiser votre serveur, car vous √™tes le seul √† y avoir acc√®s. Mais ce n&#39;est pas une bonne id√©e. Vous ne savez pas qui peut avoir acc√®s √† votre serveur. Il est possible que quelqu&#39;un d&#39;autre ait acc√®s √† votre serveur, et que cette personne soit malveillante. Il est donc important de s√©curiser votre serveur.</p><p>Vous vous dites √©galement que les serveurs ne sont pas votre histoire. Que c&#39;est l&#39;affaire des personnes dans l&#39;option SISR. Malheureusement pour vous dans la r√©alit√© des organisations vous serez amen√© √† g√©rer des serveurs (au moins de d√©veloppement).</p></div><h2 id="l-installation" tabindex="-1">L&#39;installation <a class="header-anchor" href="#l-installation" aria-label="Permalink to &quot;L&#39;installation&quot;">‚Äã</a></h2><p>Vous connaissez d√©j√† l&#39;installation d&#39;un syst√®me d&#39;exploitation, c&#39;est la m√™me chose que sur votre ordinateur. Je vous propose cependant que nous suivions ensemble les √©tapes de l&#39;installation, pour les analyser et les comprendre.</p><div class="warning custom-block"><p class="custom-block-title">Un instant</p><p>L&#39;avantage d&#39;une VM c&#39;est que nous pouvons, si nous le souhaitons, la supprimer et la recr√©er. Nous allons donc faire quelques essais pour voir comment installer une Debian.</p><p>Dans les prochaines semaines nous installerons plusieurs serveurs, pas de panique si vous ne comprenez pas tout de suite. L&#39;id√©e est de comprendre les √©tapes de l&#39;installation et de les reproduire en autonomie (chez vous, dans le cadre d&#39;un projet, d&#39;une AP etc.).</p></div><h3 id="choix-du-type-d-installation" tabindex="-1">Choix du type d&#39;installation <a class="header-anchor" href="#choix-du-type-d-installation" aria-label="Permalink to &quot;Choix du type d&#39;installation&quot;">‚Äã</a></h3><p>Quand Debian Boot, vous avez le choix entre plusieurs types d&#39;installation :</p><ul><li>Graphical install : Installation graphique.</li><li>Install : Installation en mode texte. (C&#39;est celui que nous allons utiliser).</li></ul><p><img src="'+m+'" alt="Choix du type d&#39;installation" loading="lazy"></p><p>L&#39;installation en mode texte est plus rapide et prendra moins de ressources. De plus, m√™me si le terme ¬´ mode texte ¬ª peut faire peur, il est tr√®s simple d&#39;utilisation.</p><h3 id="le-choix-de-la-langue" tabindex="-1">Le choix de la langue <a class="header-anchor" href="#le-choix-de-la-langue" aria-label="Permalink to &quot;Le choix de la langue&quot;">‚Äã</a></h3><p><img src="'+a+'" alt="Choix de la langue" loading="lazy"></p><h3 id="le-choix-du-clavier" tabindex="-1">Le choix du clavier <a class="header-anchor" href="#le-choix-du-clavier" aria-label="Permalink to &quot;Le choix du clavier&quot;">‚Äã</a></h3><p><img src="'+a+'" alt="Choix du clavier" loading="lazy"></p><h3 id="le-choix-de-l-emplacement-geographique" tabindex="-1">Le choix de l&#39;emplacement g√©ographique <a class="header-anchor" href="#le-choix-de-l-emplacement-geographique" aria-label="Permalink to &quot;Le choix de l&#39;emplacement g√©ographique&quot;">‚Äã</a></h3><p><img src="'+i+'" alt="Choix de l&#39;emplacement g√©ographique" loading="lazy"></p><div class="tip custom-block"><p class="custom-block-title">Un instant üëã</p><p>Pourquoi √† votre avis, Debian nous demande de choisir l&#39;emplacement g√©ographique de notre serveur ?</p></div><h3 id="la-configuration-du-reseau" tabindex="-1">La configuration du r√©seau <a class="header-anchor" href="#la-configuration-du-reseau" aria-label="Permalink to &quot;La configuration du r√©seau&quot;">‚Äã</a></h3><p>Comme √©voqu√© en cours, dans le r√©seau des serveurs, nous ne trouvons pas de DHCP (ou alors tr√®s rarement). Nous devons donc configurer manuellement notre serveur.</p><div class="tip custom-block"><p class="custom-block-title">DHCP ?</p><p>Vous ne vous souvenez plus de ce qu&#39;est le DHCP ? Le DHCP est un service install√© sur votre routeur (ou sur un serveur), il permet de configurer automatiquement les machines qui se connectent au r√©seau. Il permet de configurer l&#39;adresse IP, le masque de sous-r√©seau, la passerelle par d√©faut, etc. En quelques mots, comment √ßa fonctionne ?</p><ul><li>Quand une machine se connecte au r√©seau, elle envoie une requ√™te au DHCP pour obtenir une configuration r√©seau.</li><li>Le DHCP lui r√©pond avec une configuration r√©seau.</li><li>La machine configure automatiquement son adresse IP, son masque de sous-r√©seau, sa passerelle par d√©faut, etc.</li></ul></div><p><img src="'+i+'" alt="Configuration du r√©seau impossible" loading="lazy"><img src="'+g+'" alt="Configuration du r√©seau manuel" loading="lazy"></p><p>L&#39;installeur va nous demander la configuration r√©seau de notre serveur. Ici impossible d&#39;inventer, vous devez dans un premier temps vous r√©f√©rer au VLAN qui vous a √©t√© attribu√© par l&#39;√©quipe p√©dagogique.</p><p>Pour vous aider dans la configuration vous pouvez utiliser l&#39;utilitaire que j&#39;ai d√©velopp√© : <a href="https://cours.brosseau.ovh/cheatsheets/serveur/debian-reseau.html" target="_blank" rel="noreferrer">G√©n√©rateur de configuration</a>.</p><p>Pour simplifier son usage, voil√† la version int√©gr√© dans ce support :</p>',54),A=s('<p>Une fois votre configuration g√©n√©r√© par l&#39;outils vous pouvez renseigner les diff√©rentes √©tapes dans votre VM.</p><p><strong>Dans mon cas</strong>, avec le VLAN 537, j&#39;ai donc :</p><p><img src="'+b+'" alt="Adresse IP" loading="lazy"><img src="'+k+'" alt="Masque de sous r√©eau" loading="lazy"><img src="'+f+'" alt="Gateway" loading="lazy"><img src="'+y+'" alt="DNS" loading="lazy"></p><p>Nous terminons la configuration r√©seau en renseignant le nom de la machine :</p><p><img src="'+q+'" alt="Nom de la machine" loading="lazy"></p><div class="danger custom-block"><p class="custom-block-title">Attention</p><p>Pour assurer la coh√©rence, le nom de la machine doit √™tre le m√™me que celui que vous avez choisi dans l&#39;interface de vmWare.</p></div><h3 id="le-choix-du-mot-de-passe-root" tabindex="-1">Le choix du mot de passe root <a class="header-anchor" href="#le-choix-du-mot-de-passe-root" aria-label="Permalink to &quot;Le choix du mot de passe root&quot;">‚Äã</a></h3><p>√Ä cet √©tape, vous devez choisir un mot de passe pour l&#39;utilisateur root. C&#39;est l&#39;utilisateur qui a tous les droits sur le serveur.</p><p>‚ö†Ô∏è Il est donc important de choisir un mot de passe fort.</p><div class="tip custom-block"><p class="custom-block-title">Un instant üëã</p><p>M√™me si nous faisons actuellement une machine ¬´ de test ¬ª, je vous invite des √† pr√©sent √† prendre l&#39;habitude de mettre un mot de passe fort.</p></div><h4 id="qu-est-ce-qu-un-mot-de-passe-fort" tabindex="-1">Qu&#39;est-ce qu&#39;un mot de passe fort ? <a class="header-anchor" href="#qu-est-ce-qu-un-mot-de-passe-fort" aria-label="Permalink to &quot;Qu&#39;est-ce qu&#39;un mot de passe fort ?&quot;">‚Äã</a></h4><p>Un mot de passe fort est un mot de passe qui est difficile √† deviner. Vous devez privil√©gier les mots de passe longs, compos√©s de plusieurs mots, avec des majuscules, des minuscules, des chiffres et des caract√®res sp√©ciaux.</p><p>Par exemple, le mot de passe suivant est tr√®s faible :</p><ul><li><code>123456</code></li><li><code>azerty</code></li><li><code>password</code></li><li><code>admin</code></li><li>‚Ä¶</li></ul><p>Pour g√©n√©rer un mot de passe fort vous pouvez utiliser un outil en ligne :</p><ul><li><a href="https://passwordsgenerator.net/fr/" target="_blank" rel="noreferrer">https://passwordsgenerator.net/fr/</a></li><li><a href="https://delinea.com/resources/password-generator-it-tool" target="_blank" rel="noreferrer">https://delinea.com/resources/password-generator-it-tool</a></li><li><a href="https://www.grc.com/passwords.htm" target="_blank" rel="noreferrer">https://www.grc.com/passwords.htm</a></li></ul><div class="warning custom-block"><p class="custom-block-title">Quelques conseils</p><p>Le mot de passe va √™tre tr√®s longs. Vous pouvez des √† pr√©sent le mettre dans la fiche serveur. Ou voir mieux, dans un gestionnaire de mot de passe comme <a href="https://keepass.info/" target="_blank" rel="noreferrer">KeePass</a>.</p></div><h3 id="le-compte-utilisateur" tabindex="-1">Le compte utilisateur <a class="header-anchor" href="#le-compte-utilisateur" aria-label="Permalink to &quot;Le compte utilisateur&quot;">‚Äã</a></h3><p>De mani√®re g√©n√©rale, il est d√©conseill√© d&#39;utiliser le compte root pour se connecter au serveur. Il est pr√©f√©rable d&#39;utiliser un compte utilisateur avec des droits limit√©s.</p><p>C&#39;est pour √ßa que Debian va nous demander de cr√©er un compte utilisateur diff√©rent d√®s l&#39;installation :</p><p><img src="'+C+'" alt="Cr√©ation d&#39;un compte utilisateur" loading="lazy"></p><p>Comme pour le mot de passe root, vous devez choisir un mot de passe fort pour votre compte utilisateur. N&#39;oubliez pas de le noter dans votre fiche serveur.</p><div class="danger custom-block"><p class="custom-block-title">Attention</p><p>Le mot de passe de votre compte utilisateur doit √™tre diff√©rent du mot de passe root.</p></div><h3 id="les-partitions" tabindex="-1">Les partitions <a class="header-anchor" href="#les-partitions" aria-label="Permalink to &quot;Les partitions&quot;">‚Äã</a></h3><p>L&#39;installeur va maintenant nous demander de cr√©er les partitions de notre serveur. Dans le cadre d&#39;un serveur le choix est simple, nous allons d√©di√© l&#39;int√©gralit√© du disque dur √† Linux.</p><p><img src="'+F+'" alt="Cr√©ation des partitions" loading="lazy"><img src="'+E+'" alt="Cr√©ation des partitions" loading="lazy"><img src="'+S+'" alt="Cr√©ation des partitions" loading="lazy"><img src="'+P+'" alt="Cr√©ation des partitions" loading="lazy"></p><div class="tip custom-block"><p class="custom-block-title">Vous voulez utiliser Linux sur votre PC ?</p><p>Si vous souhaitez utiliser Linux en parall√®le de Windows sur votre ordinateur (ce que je vous conseil vivement üëÄ), l&#39;√©tape du partitionnement est un peu diff√©rente car il ne faut bien entendu pas d√©truire votre syst√®me d&#39;exploitation actuel.</p></div><h3 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to &quot;Installation&quot;">‚Äã</a></h3><p>L&#39;installation va maintenant commencer. Vous pouvez suivre l&#39;avancement de l&#39;installation en temps r√©el.</p><h3 id="le-mirroir" tabindex="-1">Le mirroir <a class="header-anchor" href="#le-mirroir" aria-label="Permalink to &quot;Le mirroir&quot;">‚Äã</a></h3><p>L&#39;installeur va vous demander de choisir un mirroir. Un mirroir est un serveur qui contient une copie des paquets Debian. Cela permet de r√©duire la charge sur les serveurs officiels et de gagner du temps lors de l&#39;installation.</p><p>Le mirroir est un serveur Web qui contient une copie des paquets Debian, ils seront utilis√© pour finaliser l&#39;installation.</p><p><img src="'+_+'" alt="Mirroir" loading="lazy"></p><p>Les mirroirs sont class√©s par pays. Je vous conseil de choisir un mirroir proche de chez vous, car cela va r√©duire le temps de t√©l√©chargement des paquets. En effet plus le serveur est proche de chez vous, plus la connexion sera rapide.</p><div class="tip custom-block"><p class="custom-block-title">Serveur mandataire ?</p><p>Un serveur mandataire est un Proxy. Ici au lyc√©e nous n&#39;en avons pas, mais si nous en avions un il pourrait √™tre utilis√© pour acc√©l√©rer le t√©l√©chargement des paquets en mettant en cache les paquets d√©j√† t√©l√©charg√©s. C&#39;est une fonctionnalit√© avanc√©e, vous n&#39;avez pas besoin de vous en pr√©occuper.</p></div><h3 id="logiciels-a-installer" tabindex="-1">Logiciels √† installer <a class="header-anchor" href="#logiciels-a-installer" aria-label="Permalink to &quot;Logiciels √† installer&quot;">‚Äã</a></h3><p>Nous allons pouvoir pr√©-configurer les logiciels que nous allons installer sur notre serveur. Nous souhaitons cr√©er un serveur le plus minimaliste possible, nous allons donc ne pas installer de logiciels inutiles.</p><p><img src="'+x+'" alt="Logiciels √† installer" loading="lazy"></p><div class="danger custom-block"><p class="custom-block-title">Attention</p><p>Vous pouvez s√©lectionner les logiciels √† installer en utilisant les touches fl√©ch√©es du clavier. Vous pouvez aussi utiliser la barre d&#39;espace pour s√©lectionner ou d√©s√©lectionner un logiciel.</p><ul><li><strong>Vous devez s√©lectionner le paquet <code>Serveur SSH</code></strong>. C&#39;est le logiciel qui va nous permettre de nous connecter √† notre serveur √† distance.</li><li><strong>Vous devez d√©s√©lectionner <code>Environnement de bureau</code></strong> et <code>GNOME</code>. Il ne nous seront pas utile et il surchargeront inutilement notre serveur.</li></ul></div><p>Votre serveur va maintenant t√©l√©charger et installer les logiciels s√©lectionn√©s. L&#39;installation va prendre quelques minutes.</p><h3 id="grub" tabindex="-1">GRUB <a class="header-anchor" href="#grub" aria-label="Permalink to &quot;GRUB&quot;">‚Äã</a></h3><p>GRUB est le gestionnaire de d√©marrage de Linux. Il g√©rera le d√©marrage de votre Linux. L&#39;installeur va nous demander de choisir le disque dur sur lequel installer GRUB.</p><p><img src="'+z+'" alt="GRUB" loading="lazy"></p><p>Nous allons l&#39;installer sur le disque dur principal (C&#39;est le disque dur sur lequel nous avons cr√©√© les partitions). Le nom du disque principal sous Linux est g√©n√©ralement <code>/dev/sda</code>.</p><p><img src="'+B+'" alt="GRUB" loading="lazy"></p><h3 id="installation-terminee" tabindex="-1">Installation termin√©e <a class="header-anchor" href="#installation-terminee" aria-label="Permalink to &quot;Installation termin√©e&quot;">‚Äã</a></h3><p>L&#39;installation est termin√©e. Votre serveur va maintenant red√©marrer et d√©marrer sur Linux.</p>',47),V=e("iframe",{src:"https://giphy.com/embed/S6qkS0ETvel6EZat45",width:"480",height:"400",frameBorder:"0",class:"giphy-embed",allowFullScreen:""},null,-1),H=s('<h3 id="le-premier-reboot" tabindex="-1">Le premier reboot <a class="header-anchor" href="#le-premier-reboot" aria-label="Permalink to &quot;Le premier reboot&quot;">‚Äã</a></h3><p>Si tout s&#39;est bien pass√©, vous devriez voir :</p><p><img src="'+w+`" alt="Le premier reboot" loading="lazy"></p><h2 id="configuration-du-reseau" tabindex="-1">Configuration du r√©seau <a class="header-anchor" href="#configuration-du-reseau" aria-label="Permalink to &quot;Configuration du r√©seau&quot;">‚Äã</a></h2><p>Normalement votre serveur doit avoir l&#39;adresse IP que vous lui avez attribu√© lors de l&#39;installation. Cette adresse IP est configur√©e dans le fichier <code>/etc/network/interfaces</code>.</p><h3 id="verifier-l-acces-a-internet" tabindex="-1">V√©rifier l&#39;acc√®s √† Internet <a class="header-anchor" href="#verifier-l-acces-a-internet" aria-label="Permalink to &quot;V√©rifier l&#39;acc√®s √† Internet&quot;">‚Äã</a></h3><p>Pour v√©rifier que votre serveur a bien acc√®s √† Internet, vous pouvez utiliser la commande <code>ping</code> :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ping</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> www.google.com</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Vous pouvez √©galement v√©rifier l&#39;adresse IP de votre serveur avec la commande <code>ip</code> :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="installer-les-vmware-tools" tabindex="-1">Installer les vmware tools <a class="header-anchor" href="#installer-les-vmware-tools" aria-label="Permalink to &quot;Installer les vmware tools&quot;">‚Äã</a></h2><p>Les VMware tools sont des outils qui vont permettre √† votre machine virtuelle de tirer le maximum de performances de l&#39;environnement.</p><div class="danger custom-block"><p class="custom-block-title">Les performances et la virtualisation</p><p>Sans les VMware tools semble fonctionner correctement ? Oui‚Ä¶ √Ä premi√®re vue seulement‚Ä¶ En r√©alit√© votre machine ne tire pas toutes les performances de l&#39;environnement. Pire, elle peut d√©grader les performances de toute la ferme.</p><p>Bref, n&#39;oubliez pas d&#39;installer les Tools pour vivre une exp√©rience optimale üëå.</p></div><p>Comment installer les VMware tools ? Et bien avec <code>apt</code> √©videmment :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> open-vm-tools</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="danger custom-block"><p class="custom-block-title">N&#39;oubliez pas</p><ul><li>Vous devez √™tre connect√© en tant que <code>root</code> pour installer les VMware tools (ou via <code>su -</code>).</li><li>Vous devez avoir <code>update</code> les d√©p√¥ts avant d&#39;installer de nouveaux paquets.</li></ul></div><h3 id="observer-la-configuration-du-serveur" tabindex="-1">Observer la configuration du serveur <a class="header-anchor" href="#observer-la-configuration-du-serveur" aria-label="Permalink to &quot;Observer la configuration du serveur&quot;">‚Äã</a></h3><p>Nous allons maintenant observer la configuration r√©seau de notre serveur. Pour cela nous allons utiliser la commande <code>nano</code> :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/network/interfaces</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Cette commande va afficher le contenu du fichier <code>/etc/network/interfaces</code>. Ce fichier contient la configuration r√©seau de votre serveur. Si vous souhaitez modifier l&#39;adresse IP de votre serveur vous pouvez modifier ce fichier.</p><p>La configuration DNS est √©galement stock√©e dans le fichier <code>/etc/resolv.conf</code>. Pour afficher le contenu de ce fichier nous allons utiliser la commande <code>nano</code> :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/resolv.conf</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="modifier-l-adresse-ip-de-votre-serveur" tabindex="-1">Modifier l&#39;adresse IP de votre serveur <a class="header-anchor" href="#modifier-l-adresse-ip-de-votre-serveur" aria-label="Permalink to &quot;Modifier l&#39;adresse IP de votre serveur&quot;">‚Äã</a></h3><p><em>√âtape 1 :</em> En utilisant l&#39;aide m√©moire <a href="/cheatsheets/serveur/debian-reseau.html">disponible ici</a>, g√©n√©rer une nouvelle adresse IP pour votre serveur.</p><p><em>√âtape 1b :</em> V√©rifier le nom de votre interface r√©seau avec la commande <code>ip link</code>.</p><p><em>√âtape 2 :</em> Nous allons maintenant modifier l&#39;adresse IP de votre serveur. Pour cela nous allons utiliser la commande <code>nano</code> :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/network/interfaces</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Une fois la nouvelle adresse IP rentr√©e, vous pouvez sauvegarder le fichier en appuyant sur <code>Ctrl + O</code> puis en appuyant sur <code>Entr√©e</code>. Vous pouvez quitter le fichier en appuyant sur <code>Ctrl + X</code>.</p><p><em>√âtape 3 :</em></p><p>Nous allons maintenant red√©marrer le service r√©seau de votre serveur. Du fait d&#39;un bug sur la ferme, nous allons utiliser la commande <code>reboot</code> :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reboot</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">Alternative ?</p><p>En tant normal un <code>systemctl restart networking</code>, cette commande va red√©marrer le service r√©seau de votre serveur pour lui faire prendre en compte la nouvelle configuration.</p></div><div class="tip custom-block"><p class="custom-block-title">Pourquoi changer l&#39;adresse IP ?</p><p>Ici nous avons install√© enti√®rement l&#39;OS du serveur. L&#39;avantage d&#39;une machine virtuelle c&#39;est qu&#39;il est possible de r√©aliser une image ¬´ r√©utilisable ¬ª pour gagner de pr√©cieuses minutes lors de l&#39;installation d&#39;un nouveau serveur.</p><p>Dans ce cas, d√®s le premier boot, nous irons modifier l&#39;adresse du serveur pour le rendre accessible depuis le r√©seau.</p></div><h2 id="installation-des-logiciels" tabindex="-1">Installation des logiciels <a class="header-anchor" href="#installation-des-logiciels" aria-label="Permalink to &quot;Installation des logiciels&quot;">‚Äã</a></h2><p>Pour installer un logiciel sur un serveur, il faut utiliser la commande <code>apt</code> (ou <code>apt-get</code>). Cette commande permet d&#39;ajouter des nouveaux programmes sur votre serveur.</p><p>Les programmes sont stock√©s dans des d√©pots (le mirroir que vous avez choisit lors de l&#39;installation). Pour installer un logiciel il faut d&#39;abord mettre √† jour la liste des d√©pots :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Une fois la liste des d√©pots mise √† jour, vous pouvez installer un logiciel avec la commande <code>apt install</code> :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nom_du_logicie</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">l</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="les-droits" tabindex="-1">Les droits <a class="header-anchor" href="#les-droits" aria-label="Permalink to &quot;Les droits&quot;">‚Äã</a></h3><p>Vous √™tes actuellement connect√© √† votre serveur en tant que simple utilisateur. Vous n&#39;avez pas les droits pour installer des logiciels. Pour pouvoir installer des logiciels, vous devez utiliser la commande <code>su</code> :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">su</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Une fois pass√© <code>root</code>, votre terminal devrait ressembler √† √ßa :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root@serveur:~#</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,44),j=e("div",{class:"danger custom-block"},[e("p",{class:"custom-block-title"},"Grand risque !"),e("p",null,"Travailler en root sur un serveur est un ¬´ gros risque ¬ª, en effet en cas de mauvaise manipulation vous pouvez endommager votre serveur. Il est donc tr√®s important de faire tr√®s attention lorsque vous √™tes en root."),e("iframe",{src:"https://giphy.com/embed/10KIsXhwdoerHW",width:"480",height:"201",frameBorder:"0",class:"giphy-embed",allowFullScreen:""})],-1),T=s('<h3 id="installation-de-vim" tabindex="-1">Installation de <code>vim</code> <a class="header-anchor" href="#installation-de-vim" aria-label="Permalink to &quot;Installation de `vim`&quot;">‚Äã</a></h3><p>Pour installer <code>vim</code> sur votre serveur nous allons utiliser la commande <code>apt</code> :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vim</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">Pourquoi <code>vim</code> ?</p><p><code>vim</code> est un √©diteur de texte. Il est tr√®s utilis√© sur les serveurs car il est tr√®s rapide et tr√®s l√©ger. Il est √©galement tr√®s simple √† utiliser. Vous pouvez bien √©videmment utiliser un autre √©diteur de texte tel que <code>nano</code>. Mais personnellement je trouve <code>vim</code> tr√®s pratiques.</p></div><h3 id="installation-de-ssh" tabindex="-1">Installation de SSH <a class="header-anchor" href="#installation-de-ssh" aria-label="Permalink to &quot;Installation de SSH&quot;">‚Äã</a></h3><p>Dans quelques instant nous allons voir comment acc√®der √† votre serveur. Pour √ßa nous utiliserons SSH. SSH est un protocole de communication s√©curis√©.</p><p>Pour installer SSH sur votre serveur nous allons utiliser la commande <code>apt</code> :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openssh-server</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>D√©marrer le service SSH √† chaque d√©marrage de votre serveur :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssh</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssh</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">Votre serveur est maintenant accessible !</p><p>Fini la fen√™tre web tr√®s peu pratique pour acc√©der √† votre serveur. Vous pouvez maintenant acc√©der √† votre serveur en utilisant SSH. Nous allons voir comment faire √ßa dans la prochaine partie.</p></div><h2 id="acces-a-votre-serveur" tabindex="-1">Acc√®s √† votre serveur <a class="header-anchor" href="#acces-a-votre-serveur" aria-label="Permalink to &quot;Acc√®s √† votre serveur&quot;">‚Äã</a></h2><p>Pour acc√©der √† votre serveur, nous allons utiliser un client SSH. Un client SSH est un programme que vous pouvez installer sur votre ordinateur. Il permet de se connecter √† un serveur en utilisant le protocole SSH. Il existe plusieurs clients SSH (exemple <code>Putty</code> pour Windows), mais depuis quelques mois nous avons de base un client SSH (sous Windows, sous Linux et sous Mac).</p><p>Pour utiliser le client SSH int√©gr√© √† votre ordinateur, il faut ouvrir un terminal. Sous Windows, il faut ouvrir le terminal <code>cmd</code> (sous Windows je vous conseil <code>git-bash</code> qui est tr√®s proche d&#39;un terminal Linux). Sous Linux et sous Mac, il faut ouvrir le terminal.</p><h3 id="acces-ssh" tabindex="-1">Acc√®s SSH <a class="header-anchor" href="#acces-ssh" aria-label="Permalink to &quot;Acc√®s SSH&quot;">‚Äã</a></h3><p>Pour se connecter √† votre serveur en utilisant SSH, il faut utiliser la commande <code>ssh</code> :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nom_du_compt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">adresse_ip_du_serveu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Dans mon cas :</p><p><img src="'+L+'" alt="Client SSH" loading="lazy"></p><div class="tip custom-block"><p class="custom-block-title">Pourquoi privil√©gier SSH ?</p><p>Vous pourriez √™tre tent√© d&#39;utiliser directement l&#39;interface de VMWare pour acc√©der √† votre serveur. Mais il y a plusieurs probl√®mes avec cette m√©thode :</p><ul><li>En entreprise vous n&#39;y aurez pas acc√®s.</li><li>Elle ne permet pas le copier-coller (et je sais que vous adorez √ßa).</li><li>Elle est globalement tr√®s lente.</li></ul></div><h3 id="securiser-votre-serveur" tabindex="-1">S√©curiser votre serveur <a class="header-anchor" href="#securiser-votre-serveur" aria-label="Permalink to &quot;S√©curiser votre serveur&quot;">‚Äã</a></h3><p>Avec la configuration de base, votre serveur est accessible depuis l&#39;utilisateur <code>root</code>. C&#39;est une <strong>tr√®s</strong> <strong>tr√®s</strong> mauvaise chose. En effet, si quelqu&#39;un trouve le mot de passe de votre serveur, il pourra faire ce qu&#39;il veut sur votre serveur.</p><p>Nous allons donc dans un premier temps d√©sactiver l&#39;acc√®s SSH pour l&#39;utilisateur <code>root</code>. Pour √ßa nous allons modifier le fichier de configuration de SSH :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/ssh/sshd_config</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Dans le fichier de configuration, nous allons modifier la ligne <code>PermitRootLogin</code> :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PermitRootLogin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> no</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">Si la ligne est en commentaire</p><p>Si la ligne <code>PermitRootLogin</code> est en commentaire, il faut la d√©commenter (enlever le <code>#</code> au d√©but de la ligne).</p></div><p>Ensuite nous allons red√©marrer le service SSH :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssh</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>C&#39;est √† vous ! Je vous laisse v√©rifier que l&#39;acc√®s SSH pour l&#39;utilisateur <code>root</code> est d√©sactiv√©</li></ul><div class="danger custom-block"><p class="custom-block-title">Pourquoi est-ce tr√®s important ?</p><p>Avant de continuer, je vous propose que l&#39;on discute un peu de la s√©curit√©.</p><p>√âl√©ment de r√©ponse‚Ä¶ √Ä pr√©sent, vous ne pourrez plus vous connecter en tant qu&#39;utilisateur root via SSH. Vous devez vous connecter avec un autre utilisateur (celui que vous avez cr√©√© lors de l&#39;installation de votre serveur). Cette √©tape est vraiment importante, car elle va vous permettre de s√©curiser votre serveur.</p></div><h2 id="l-echange-de-cles" tabindex="-1">L&#39;√©change de cl√©s <a class="header-anchor" href="#l-echange-de-cles" aria-label="Permalink to &quot;L&#39;√©change de cl√©s&quot;">‚Äã</a></h2><p>Les mots de passe‚Ä¶ Vous en avez plein, vous les perdez souvent ! Et si je vous disais qu&#39;il existe une autre m√©thode pour se connecter √† un serveur ? Une m√©thode qui ne n√©cessite pas de mot de passe ? Et bien c&#39;est possible ! Il suffit d&#39;utiliser l&#39;√©change de cl√©s.</p><p>L&#39;√©change de cl√© repose sur le principe suivant : Vous avez une cl√© priv√©e et une cl√© publique. Vous donnez votre cl√© publique √† votre serveur. Vous donnez votre cl√© priv√©e √† votre client. Quand vous voulez vous connecter √† votre serveur, vous utilisez votre cl√© priv√©e pour vous connecter. Votre serveur utilise votre cl√© publique pour v√©rifier que vous √™tes bien le propri√©taire de la cl√© priv√©e.</p><p><strong>Avant d&#39;aller plus loin, nous allons g√©n√©rer une cl√© SSH, elle vous servira de cl√© pour vous connecter √† votre serveur. Mais √©galement aux prochains serveurs que vous allez installer.</strong></p><p>Avoir une cl√© SSH est int√©ressant, car une cl√© SSH est plus s√©curis√©e qu&#39;un mot de passe. De plus une cl√© SSH est un standard, donc vous pouvez l&#39;utiliser pour vous connecter √† n&#39;importe quel type de serveur (Linux, mais √©galement GIT, etc.).</p><div class="tip custom-block"><p class="custom-block-title">C&#39;est une cl√© ultra priv√©e</p><p>La cl√© SSH est une cl√© priv√©e, donc ne la partagez pas avec n&#39;importe qui. Elle vous permet de vous connecter √† votre serveur, mais √©galement √† d&#39;autres serveurs. Si vous la partagez avec n&#39;importe qui, vous risquez de vous faire pirater votre serveur.</p><p><strong>Avoir la cl√© == Pouvoir se connecter √† votre serveur.</strong></p></div><h3 id="generer-une-cle-ssh" tabindex="-1">G√©n√©rer une cl√© SSH <a class="header-anchor" href="#generer-une-cle-ssh" aria-label="Permalink to &quot;G√©n√©rer une cl√© SSH&quot;">‚Äã</a></h3><div class="danger custom-block"><p class="custom-block-title">√Ä ne faire qu&#39;une seule fois !</p><p>Vous ne devez g√©n√©rer une cl√© SSH qu&#39;une seule fois. Si vous en g√©n√©rer une nouvelle, vous ne pourrez plus vous connecter √† votre serveur.</p></div><h4 id="generer-une-clef-privee-public" tabindex="-1">G√©n√©rer une clef priv√©e/public <a class="header-anchor" href="#generer-une-clef-privee-public" aria-label="Permalink to &quot;G√©n√©rer une clef priv√©e/public&quot;">‚Äã</a></h4><p>Cette op√©ration n&#39;est √† r√©aliser qu&#39;une seule fois (sur chaque machine/session). Au lyc√©e, la clef va s&#39;enregistrer dans votre dossier utilisateur, elle sera donc synchronis√©e automatiquement avec l&#39;ensemble des ordinateurs sur lesquels vous allez pouvoir vous connecter.</p><p>La commande pour g√©n√©rer une clef est la suivante.</p><div class="tip custom-block"><p class="custom-block-title">Windows, Linux, macOS ?</p><p>La commande sera la m√™me, quel que soit votre syst√®me d&#39;exploitation. Cependant, le terminal lui sera diff√©rent :</p><ul><li>Windows : <code>Git Bash</code> (ou <code>Git cmd</code>). (<a href="https://git-scm.com/downloads" target="_blank" rel="noreferrer">n√©cessite Git</a>)</li><li>macOS : <code>terminal</code>.</li><li>Linux : <code>console</code>.</li></ul></div><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-keygen</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+u+`" alt="G√©n√©ration d&#39;une cl√© SSH" loading="lazy"></p><p>La commande va g√©n√©rer <strong>deux fichiers</strong>¬†:</p><ul><li><strong>id_rsa</strong>, est priv√©. <strong>Vous ne devez jamais le partager</strong>.</li><li><strong>id_rsa.pub</strong>, est publique, vous pouvez le partager autant que vous voulez ce fichier permettra de vous reconna√Ætre au moment de la connexion.</li></ul><div class="danger custom-block"><p class="custom-block-title">Plus de s√©curit√©</p><p>Vous pouvez faire ¬´¬†entr√©e (3√ó)¬†¬ª pour g√©n√©rer une cl√© sans mot de passe. Vous pouvez √©galement faire le choix de mettre un mot de passe sur votre cl√© pour plus de s√©curit√© en cas de perte de celle-ci.</p></div><p>Je vous conseille vivement de sauvegarder votre cl√© priv√©e dans un endroit s√ªr. Vous pouvez la sauvegarder sur votre cl√© USB, sur un disque dur externe, sur un NAS, etc. Ainsi si vous perdez votre cl√© priv√©e, vous pourrez la r√©cup√©rer en cas de besoin (changement de machine, etc.).</p><h3 id="ajouter-votre-cle-publique-sur-votre-serveur" tabindex="-1">Ajouter votre cl√© publique sur votre serveur <a class="header-anchor" href="#ajouter-votre-cle-publique-sur-votre-serveur" aria-label="Permalink to &quot;Ajouter votre cl√© publique sur votre serveur&quot;">‚Äã</a></h3><p>Maintenant que nous avons notre cl√© priv√©e, nous allons ajouter notre cl√© publique sur notre serveur. Pour √ßa nous allons utiliser la commande <code>ssh-copy-id</code> :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-copy-id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nom_du_compt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">adresse_ip_du_serveu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">Attention</p><p>Cette commande doit √™tre ex√©cut√©e sur votre machine locale.</p><p>Elle va copier votre cl√© publique (local √† votre machine) sur votre serveur (VM).</p></div><p>Dans mon cas :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-copy-id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vbrosseau@192.168.137.1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Cette commande va prendre votre cl√© publique et l&#39;ajouter dans le fichier <code>authorized_keys</code> de votre compte sur le serveur. Vous pouvez v√©rifier que votre cl√© publique est bien pr√©sente dans ce fichier :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.ssh/authorized_keys</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Vous devriez y voir normalement votre cl√© publique.</p><h3 id="se-connecter-a-votre-serveur" tabindex="-1">Se connecter √† votre serveur <a class="header-anchor" href="#se-connecter-a-votre-serveur" aria-label="Permalink to &quot;Se connecter √† votre serveur&quot;">‚Äã</a></h3><p>√Ä pr√©sent, vous pouvez vous connecter √† votre serveur sans mot de passe :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nom_du_compt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">adresse_ip_du_serveu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">Pourquoi utiliser un √©change de cl√©s ?</p><p>Cette √©tape suppl√©mentaire lors de la configuration d&#39;un serveur est √† mon avis <strong>un passage oblig√©</strong>. Elle va permettre :</p><ul><li>De s√©curiser votre serveur.</li><li>De ne plus avoir √† taper votre mot de passe √† chaque connexion.</li><li>D&#39;autoriser l&#39;acc√®s √† votre serveur √† plusieurs personnes (exemple membre d&#39;un projet) sans avoir √† leur donner votre mot de passe.</li></ul></div><h3 id="bonus-ne-plus-autoriser-l-acces-ssh-avec-un-mot-de-passe" tabindex="-1">Bonus : Ne plus autoriser l&#39;acc√®s SSH avec un mot de passe <a class="header-anchor" href="#bonus-ne-plus-autoriser-l-acces-ssh-avec-un-mot-de-passe" aria-label="Permalink to &quot;Bonus : Ne plus autoriser l&#39;acc√®s SSH avec un mot de passe&quot;">‚Äã</a></h3><p>Nous pouvons aller encore plus loin dans la s√©curisation de notre serveur. Maintenant que nous avons un √©change de cl√©s, nous pouvons compl√®tement d√©sactiver l&#39;acc√®s SSH avec un mot de passe. Pour √ßa nous allons modifier le fichier de configuration de SSH :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/ssh/sshd_config</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Dans le fichier de configuration, nous allons modifier la ligne <code>PasswordAuthentication</code> :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PasswordAuthentication</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> no</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Ensuite nous allons red√©marrer le service SSH :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssh</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Cette √©tape est vraiment int√©ressante, car elle nous assure que notre serveur ne sera pas accessible via une attaque de type &quot;force brute&quot;. Si vous d√©cidez de r√©aliser cette √©tape, <strong>je vous conseille de le mettre en avant lors d&#39;un oral (car √ßa montre que vous avez compris l&#39;importance de la s√©curit√©).</strong></p><h2 id="installer-des-paquets" tabindex="-1">Installer des paquets <a class="header-anchor" href="#installer-des-paquets" aria-label="Permalink to &quot;Installer des paquets&quot;">‚Äã</a></h2><p>Pour installer des paquets sur votre serveur, vous allez utiliser la commande <code>apt</code> :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nom_du_paque</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Cette commande va modifier votre OS et installer le paquet demand√©. Par exemple, pour installer <code>apache2</code> :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cmatrix</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cmatrix</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>L&#39;installation de paquets n&#39;est possible que si votre utilisateur a acc√®s √† l&#39;ensemble du syst√®me, c&#39;est pour √ßa que nous avons √† notre disposition l&#39;utilisateur <code>root</code>. Pour passer en mode <code>root</code> nous allons utiliser la commande <code>su</code> :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">su</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title"><code>su -</code> ?</p><p>La commande <code>su</code> permet de passer en mode <code>root</code>. La commande <code>su -</code> permet de passer en mode <code>root</code> et de charger les variables d&#39;environnement de l&#39;utilisateur <code>root</code>. C&#39;est pour √ßa que nous utilisons <code>su -</code> et non <code>su</code>. Si vous ne chargez pas les variables d&#39;environnement de l&#39;utilisateur <code>root</code>, vous ne pourrez pas utiliser <code>apt</code> par exemple.</p></div><h2 id="installer-apache" tabindex="-1">Installer Apache <a class="header-anchor" href="#installer-apache" aria-label="Permalink to &quot;Installer Apache&quot;">‚Äã</a></h2><p>Pour valider notre installation. Nous allons installer un serveur Web. Pour √ßa nous allons installer Apache.</p><p>Pour rappel, Apache est un serveur Web. Il permet de mettre en ligne des sites Internet. C&#39;est un service qui va tourner en permanence sur votre serveur.</p><h3 id="installation-1" tabindex="-1">Installation <a class="header-anchor" href="#installation-1" aria-label="Permalink to &quot;Installation&quot;">‚Äã</a></h3><p>Pour installer Apache, nous allons utiliser la commande <code>apt</code> :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apache2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="verification" tabindex="-1">V√©rification <a class="header-anchor" href="#verification" aria-label="Permalink to &quot;V√©rification&quot;">‚Äã</a></h3><p>Pour v√©rifier que Apache est bien install√©, nous allons utiliser la commande <code>systemctl</code> :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apache2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">Comment v√©rifier que le service est bien lanc√© ?</p><p>Si le service est bien lanc√©, vous devriez voir la ligne suivante :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Active:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> active</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (running)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div><h3 id="acceder-a-votre-site" tabindex="-1">Acc√©der √† votre site <a class="header-anchor" href="#acceder-a-votre-site" aria-label="Permalink to &quot;Acc√©der √† votre site&quot;">‚Äã</a></h3><p>Pour acc√©der √† votre site, vous devez utiliser l&#39;adresse IP de votre serveur. Par exemple :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http://192.168.1.1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">Comment trouver l&#39;adresse IP de votre serveur ?</p><p>Pour obtenir l&#39;adresse IP de votre serveur, vous pouvez utiliser la commande <code>IP.</code> :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Vous pouvez √©galement regarder votre fiche serveur üòâ.</p></div><h3 id="les-permissions" tabindex="-1">Les permissions <a class="header-anchor" href="#les-permissions" aria-label="Permalink to &quot;Les permissions&quot;">‚Äã</a></h3><p>Afin que votre utilisateur puisse modifier le code de votre site, vous devez modifier les permissions du dossier <code>/var/www/</code> :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chown</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">VOTRE-UTILISATEU</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">R</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:www-data</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/www/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="creer-une-page-web" tabindex="-1">Cr√©er une page web <a class="header-anchor" href="#creer-une-page-web" aria-label="Permalink to &quot;Cr√©er une page web&quot;">‚Äã</a></h3><p>Pour finaliser ce premier TP, nous allons cr√©er une page web. Pour √ßa nous allons utiliser l&#39;√©diteur de texte <code>vim</code> :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/www/html/index.html</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Dans le fichier, nous allons y mettre le code suivant :</p><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Bienvenue sur le serveur de VOTRE NOM&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Bravo ! Votre site fonctionne&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Cette derni√®re √©tape permet de valider que votre serveur fonctionne comme pr√©vu.</p><div class="tip custom-block"><p class="custom-block-title">Pratique ?</p><p>Nous venons de cr√©er rapidement un serveur web. Dans le prochain TP, nous allons voir comment √™tre efficace avec la ligne de commande. Cette comp√©tence sera tr√®s utile pour la suite de votre formation.</p><p>Nous verrons ensuite comment mettre en place un serveur web dans son int√©gralit√©. <em>Car oui, √ßa sera un peu plus compliqu√© que ce que nous venons de faire.</em> (Mais pas trop quand m√™me üòâ)</p></div><p><em>√Ä votre avis :</em></p><ul><li>Pouvons-nous faire du PHP sur notre serveur ?</li><li>Comment pouvons nous envoyer des fichiers sur notre serveur ?</li></ul><h2 id="conclusion" tabindex="-1">Conclusion <a class="header-anchor" href="#conclusion" aria-label="Permalink to &quot;Conclusion&quot;">‚Äã</a></h2><p>Dans ce TP nous avons vu comment installer un serveur Debian 11. Nous avons √©galement vu comment configurer le r√©seau de notre machine virtuelle, comment installer les VMware tools et comment configurer l&#39;acc√®s SSH √† notre serveur.</p><p>Cette machine nous servira de base pour les prochains TP de <a href="./tp1c.html">prise en main de la ligne de commande</a></p>`,108);function N(M,O,U,G,R,W){const r=v("DebianConfiguration");return h(),c("div",null,[D,d(r),A,V,H,j,T])}const $=p(I,[["render",N]]);export{K as __pageData,$ as default};
