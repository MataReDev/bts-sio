import{_ as e,c as a,o as s,U as i}from"./chunks/framework.aGaNZw_P.js";const t="/assets/ssh-key.0lAB80vL.jpg",r="/assets/step1-github.DiwLJWzK.jpg",l="/assets/step2-github.D8kCHkgV.png",n="/assets/step3-github.Sm7JBzCL.jpg",k=JSON.parse(`{"title":"Aide mémoire Clef SSH","description":"Aide mémoire sur la création et l'échange de clé SSH avec un serveur ou Gitlab / Github","frontmatter":{"description":"Aide mémoire sur la création et l'échange de clé SSH avec un serveur ou Gitlab / Github","keywords":"SSH, ssh-key, clé SSH, clef ssh, clés ssh, ssh-keygen"},"headers":[],"relativePath":"cheatsheets/ssh-key/index.md","filePath":"cheatsheets/ssh-key/index.md","lastUpdated":1704112852000}`),o={name:"cheatsheets/ssh-key/index.md"},u=i('<h1 id="aide-memoire-clef-ssh" tabindex="-1">Aide mémoire Clef SSH <a class="header-anchor" href="#aide-memoire-clef-ssh" aria-label="Permalink to &quot;Aide mémoire Clef SSH&quot;">​</a></h1><details class="details custom-block"><summary>Table des matières</summary><nav class="table-of-contents"><ul><li><a href="#generer-une-clef-privee-publique">Générer une clef privée/publique</a><ul><li><a href="#generer-la-clef">Générer la clef</a></li></ul></li><li><a href="#dans-le-cadre-de-git-github-gitlab">Dans le cadre de Git (github, gitlab)</a><ul><li><a href="#github">Github</a></li><li><a href="#gitlab">Gitlab</a></li></ul></li><li><a href="#dans-le-cadre-de-la-gestion-a-distance-de-serveur-ssh-sft-etc">Dans le cadre de la gestion à distance de serveur (ssh, sft, etc)</a></li></ul></nav></details><p>Dans cet aide mémoire vous allez retrouver l&#39;ensemble des commandes et des opérations à réaliser pour réaliser une clef SSH sur votre machine et l&#39;échanger avec un tiers pour vous authentifier sans mot de passe.</p><blockquote><p>Autrefois, tout le monde employait l&#39;authentification typique par le principe identifiant - mot de passe. Cependant si quelqu&#39;un connaît votre mot de passe ou le découvre au moyen d&#39;une attaque, la sécurité est compromise. De plus, utiliser un mot de passe différent pour chaque serveur et le saisir à chaque connexion peut s&#39;avérer contraignant.</p><p>Pour se débarrasser de ces problèmes, SSH propose un système d&#39;authentification par clef publique/privée au lieu des mots de passe « simples ».</p><p>Ceci peut permettre par exemple :</p><ul><li>De vous connecter à des centaines de machines sans devoir connaître des centaines de mots de passe différents ;</li><li>De ne pas avoir un mot de passe à saisir toutes les 2 minutes.</li></ul><p>La clef privée est en principe unique : chaque utilisateur possède une clef privée qu&#39;il peut copier sur les terminaux auxquels il accède physiquement et depuis lesquels il a besoin d&#39;un accès SSH (via le client SSH).</p><p>Source : <a href="https://doc.ubuntu-fr.org/ssh" target="_blank" rel="noreferrer">doc.ubuntu-fr</a></p></blockquote><details class="details custom-block"><summary>Sommaire</summary><nav class="table-of-contents"><ul><li><a href="#generer-une-clef-privee-publique">Générer une clef privée/publique</a><ul><li><a href="#generer-la-clef">Générer la clef</a></li></ul></li><li><a href="#dans-le-cadre-de-git-github-gitlab">Dans le cadre de Git (github, gitlab)</a><ul><li><a href="#github">Github</a></li><li><a href="#gitlab">Gitlab</a></li></ul></li><li><a href="#dans-le-cadre-de-la-gestion-a-distance-de-serveur-ssh-sft-etc">Dans le cadre de la gestion à distance de serveur (ssh, sft, etc)</a></li></ul></nav></details><h2 id="generer-une-clef-privee-publique" tabindex="-1">Générer une clef privée/publique <a class="header-anchor" href="#generer-une-clef-privee-publique" aria-label="Permalink to &quot;Générer une clef privée/publique&quot;">​</a></h2><p>Cette opération n&#39;est à réaliser qu&#39;une seule fois (sur chaque machine/session). Au lycée, la clef va s&#39;enregistrer dans votre dossier utilisateur, elle sera donc synchronisée automatiquement avec l&#39;ensemble des ordinateurs sur lesquels vous allez pouvoir vous connecter.</p><h3 id="generer-la-clef" tabindex="-1">Générer la clef <a class="header-anchor" href="#generer-la-clef" aria-label="Permalink to &quot;Générer la clef&quot;">​</a></h3><p>La commande pour générer une clef est la suivante.</p><div class="tip custom-block"><p class="custom-block-title">Windows, Linux, macOS ?</p><p>La commande sera la même, quel que soit votre système d&#39;exploitation. Cependant, le terminal lui sera différent :</p><ul><li>Windows : <code>Git Bash</code> (ou <code>Git cmd</code>). (<a href="https://git-scm.com/downloads" target="_blank" rel="noreferrer">nécessite Git</a>)</li><li>macOS : <code>terminal</code>.</li><li>Linux : <code>console</code>.</li></ul></div><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-keygen</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+t+'" alt="Génération d&#39;une clef SSH" loading="lazy"></p><p>La commande va générer <strong>deux fichiers</strong> :</p><ul><li><strong>id_rsa</strong>, est privé. <strong>Vous ne devez jamais le partager</strong>.</li><li><strong>id_rsa.pub</strong>, est publique, vous pouvez le partager autant que vous voulez ce fichier permettra de vous reconnaître au moment de la connexion.</li></ul><div class="danger custom-block"><p class="custom-block-title">Plus de sécurité</p><p>Vous pouvez faire « entrée (3×) » pour générer une clef sans mot de passe. Vous pouvez également faire le choix de mettre un mot de passe sur votre clef pour plus de sécurité.</p></div><h2 id="dans-le-cadre-de-git-github-gitlab" tabindex="-1">Dans le cadre de Git (github, gitlab) <a class="header-anchor" href="#dans-le-cadre-de-git-github-gitlab" aria-label="Permalink to &quot;Dans le cadre de Git (github, gitlab)&quot;">​</a></h2><p>Maintenant que nous avons généré les clefs, il vous suffit d&#39;envoyer votre clef <strong>publique</strong> sur Github/Gitlab pour que celui-ci vous reconnaisse automatiquement.</p><h3 id="github" tabindex="-1">Github <a class="header-anchor" href="#github" aria-label="Permalink to &quot;Github&quot;">​</a></h3><p>Pour ajouter votre clef, vous devez :</p><ul><li>Copier <strong>le contenu</strong> du fichier <code>id_rsa.pub</code>(ouvrir le fichier avec par exemple Notepad++)</li><li>L&#39;ajouter à votre profil Github <a href="https://github.com/settings/ssh/new" target="_blank" rel="noreferrer">en cliquant ici</a></li><li>Tester votre connexion avec la commande <code>ssh -T git@github.com</code></li></ul><details class="details custom-block"><summary>Procédure détaillée Github</summary><h4 id="etape-1-settings" tabindex="-1">Étape 1 : Settings <a class="header-anchor" href="#etape-1-settings" aria-label="Permalink to &quot;Étape 1 : Settings&quot;">​</a></h4><p><img src="'+r+'" alt="Étape 1" loading="lazy"></p><h4 id="etape-2-ssh-gpg-key" tabindex="-1">Étape 2 : SSH &amp; GPG Key <a class="header-anchor" href="#etape-2-ssh-gpg-key" aria-label="Permalink to &quot;Étape 2 : SSH &amp; GPG Key&quot;">​</a></h4><p><img src="'+l+'" alt="Étape 2" loading="lazy"></p><h4 id="etape-3-coller-et-ajouter-votre-clef" tabindex="-1">Étape 3 : Coller et ajouter votre clef <a class="header-anchor" href="#etape-3-coller-et-ajouter-votre-clef" aria-label="Permalink to &quot;Étape 3 : Coller et ajouter votre clef&quot;">​</a></h4><p><img src="'+n+'" alt="Étape 3" loading="lazy"></p></details><h3 id="gitlab" tabindex="-1">Gitlab <a class="header-anchor" href="#gitlab" aria-label="Permalink to &quot;Gitlab&quot;">​</a></h3><p>La procédure avec Gitlab est très similaire, vous devez :</p><ul><li>Copier <strong>le contenu</strong> du fichier <code>id_rsa.pub</code>(ouvrir le fichier avec par exemple Notepad++)</li><li>L&#39;ajouter à votre profil Github <a href="https://gitlab.com/-/profile/keys" target="_blank" rel="noreferrer">en cliquant ici</a></li><li>Tester votre connexion avec la commande <code>ssh -T git@gitlab.com</code></li></ul><h2 id="dans-le-cadre-de-la-gestion-a-distance-de-serveur-ssh-sft-etc" tabindex="-1">Dans le cadre de la gestion à distance de serveur (ssh, sft, etc) <a class="header-anchor" href="#dans-le-cadre-de-la-gestion-a-distance-de-serveur-ssh-sft-etc" aria-label="Permalink to &quot;Dans le cadre de la gestion à distance de serveur (ssh, sft, etc)&quot;">​</a></h2><p>Votre clef est également compatible pour vous connecter sur un serveur SSH distant (pratique pour ne <strong>jamais oublier son mot de passe</strong>).</p><p>Pour cela, il vous suffit de faire la commande suivante sur votre ordinateur.</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-copy-id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">usernam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ipaddres</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>⚠️ Vous devez évidemment remplacer <code>&lt;username&gt;</code>et <code>&lt;ipaddress&gt;</code>par votre utilisateur et votre mot de passe. Exemple :</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-copy-id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pi@192.168.1.253</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">Et voilà !</p><p>Rien de plus, à partir de maintenant votre serveur acceptera votre connexion sans vous demander de mot de passe. Pratique non ? (Et surtout très sécurisé)</p></div>',31),c=[u];function d(p,h,m,g,b,v){return s(),a("div",null,c)}const q=e(o,[["render",d]]);export{k as __pageData,q as default};
